(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{SOZK:function(t,e,s){"use strict";s.r(e);var r=s("LvDl"),a={components:{MasterfileUpload:function(){return s.e(1).then(s.bind(null,"Gprq"))}},data:function(){return{searchKey:""}},computed:{selectedPrincipalCode:function(){return this.PrincipalsStore.state.selectedPrincipalCode},tblHeader:function(){return this[this.selectedPrincipalCode].state.customersTableHeader[0]},updatedAt:function(){try{return this.PrincipalsStore.state.customers.data[0].upload_date}catch(t){return"..."}}},methods:{exportToExcel:function(){var t=this;try{this.PrincipalsStore.state.customers.current_page=1}catch(t){}this.PrincipalsStore.initCustomers("",9999999).then((function(){t.PrincipalsStore.toExcel_simple("Customers",t.PrincipalsStore.state.customers.data,{storeName:t.selectedPrincipalCode,propertyName:"customersTableHeader"},null,"".concat(t.selectedPrincipalCode,"_Customers")),t.PrincipalsStore.initCustomers(t.searchKey)}))},onPageChange:function(){this.PrincipalsStore.initCustomers(this.searchKey)}},watch:{searchKey:Object(r.debounce)((function(){null!=this.PrincipalsStore.state.customers.current_page&&(this.PrincipalsStore.state.customers.current_page=1),this.PrincipalsStore.initCustomers(this.searchKey)}),500)},created:function(){this.PrincipalsStore.initCustomers()}},i=s("KHd+"),n=Object(i.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"elevation-0"},[s("v-card-title",{staticClass:"pa-0 mb-2"},[s("v-app-bar",{attrs:{elevation:"0"}},[s("v-toolbar-title",[s("div",[t._v("\n                    Customers\n                ")]),t._v(" "),s("div",[s("em",{staticClass:"text-caption primary--text"},[t._v("\n                        Updated at "+t._s(t.updatedAt)+"\n                    ")])])]),t._v(" "),s("v-spacer"),t._v(" "),s("v-btn",{staticClass:"mr-2",attrs:{title:"Refresh",icon:"",dense:"",rounded:"",depressed:""},on:{click:function(e){return t.PrincipalsStore.initCustomers(t.searchKey)}}},[s("v-icon",[t._v("mdi-refresh")])],1),t._v(" "),s("v-text-field",{staticClass:"mr-3",staticStyle:{"max-width":"300px"},attrs:{label:"Search",clearable:"","hide-details":"",dense:"",flat:"",rounded:"","solo-inverted":""},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}}),t._v(" "),s("v-btn",{attrs:{title:"Import",icon:"",dense:""},on:{click:function(e){e.stopPropagation(),t.PrincipalsStore.state.isUploadMasterCustomersOpen=!0}}},[s("v-icon",[t._v("mdi-file-upload")])],1),t._v(" "),s("v-btn",{attrs:{title:"Export to Excel",icon:"",dense:""},on:{click:function(e){return t.exportToExcel()}}},[s("v-icon",[t._v("mdi-file-excel")])],1)],1)],1),t._v(" "),s("v-card-text",{staticClass:"mx-0 px-0"},[s("v-data-table",{attrs:{items:t.PrincipalsStore.state.customers.data,headers:t.tblHeader,dense:"",searchx:t.searchKey,"disable-pagination":"","disable-filtering":"","hide-default-footer":""}}),t._v(" "),s("v-container",[s("v-pagination",{attrs:{length:t.PrincipalsStore.state.customers.last_page,"total-visible":"10"},on:{input:function(e){return t.onPageChange()}},model:{value:t.PrincipalsStore.state.customers.current_page,callback:function(e){t.$set(t.PrincipalsStore.state.customers,"current_page",e)},expression:"PrincipalsStore.state.customers.current_page"}})],1)],1),t._v(" "),s("v-dialog",{attrs:{"max-width":"800",persistent:""},model:{value:t.PrincipalsStore.state.isUploadMasterCustomersOpen,callback:function(e){t.$set(t.PrincipalsStore.state,"isUploadMasterCustomersOpen",e)},expression:"PrincipalsStore.state.isUploadMasterCustomersOpen"}},[s("MasterfileUpload",{attrs:{id:"customers"}})],1)],1)}),[],!1,null,null,null);e.default=n.exports}}]);