(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{PLJO:function(t,e,a){"use strict";a.r(e);var s={data:function(){return{particulars:[],modal_datepicker:!1,isSaving:!1,tags:this.Expenditures.state.tags,particular:null,amount:null,quantity:null,date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),selectedTags:null}},methods:{initParticulars:function(){var t=this,e="".concat(this.AppStore.state.siteUrl,"api_expenses/particulars");axios.get(e).then((function(e){console.log(e.data);try{t.particulars=e.data.map((function(t){return t.particular}))}catch(e){t.AppStore.toast(e)}})).catch((function(e){t.AppStore.toast(e)}))},saveExpense:function(){var t=this,e="".concat(this.AppStore.state.siteUrl,"api_expenses/store");this.isSaving=!0;var a={particular:this.particular,amount:this.amount,quantity:this.quantity,expense_date:this.date,tag_ids:this.selectedTags};axios.post(e,a).then((function(e){1==e.data&&(t.AppStore.toast("New expense added"),t.Expenditures.expenses(),t.Expenditures.state.add_expense=!1,t.isSaving=!1)})).catch((function(e){console.log(e),t.isSaving=!1}))},appendNewParticular:function(t){var e=t.target.value;if(""!=e){var a=!1;this.particulars.forEach((function(t){t.toLowerCase()===e.toLowerCase()&&(a=!0)})),a||(this.particulars.push(e),this.particular=e),console.log("PARTICULARS:",this.particulars)}}},computed:{},watch:{selectedTags:function(){console.log(this.selectedTags)}},created:function(){this.initParticulars()},mounted:function(){console.log("ExpendituresAdd mounted.")}},n=a("KHd+"),i=Object(n.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",{staticClass:"mb-5"},[a("span",{staticClass:"text-h5"},[t._v("Add Test Data")])]),t._v(" "),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"pb-0 pt-0",attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{items:t.particulars,dense:"",outlined:"",autofocus:"",label:"Particular *"},on:{blur:function(e){return t.appendNewParticular(e)}},model:{value:t.particular,callback:function(e){t.particular=e},expression:"particular"}})],1),t._v(" "),a("v-col",{staticClass:"pb-0 pt-0",attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Amount *",prefix:"P"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),t._v(" "),a("v-col",{staticClass:"pb-0 pt-0",attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Quantity*",required:""},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1),t._v(" "),a("v-col",{staticClass:"pb-0 pt-0",attrs:{cols:"12",sm:"6",md:"4"}},[a("v-dialog",{ref:"dialog_datepicker",attrs:{"return-value":t.date,width:"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Date *",readonly:"",dense:"",outlined:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",n,!1),s))]}}]),model:{value:t.modal_datepicker,callback:function(e){t.modal_datepicker=e},expression:"modal_datepicker"}},[t._v(" "),a("v-date-picker",{attrs:{scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.modal_datepicker=!1}}},[t._v("\n                            Cancel\n                        ")]),t._v(" "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dialog_datepicker.save(t.date)}}},[t._v("\n                            Ok\n                        ")])],1)],1)],1),t._v(" "),a("v-col",{staticClass:"pb-0 pt-0",attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:t.tags,"item-text":"tag_name","item-value":"tag_id",label:"Tags",multiple:"",chips:"",dense:"",outlined:"","small-chips":""},model:{value:t.selectedTags,callback:function(e){t.selectedTags=e},expression:"selectedTags"}})],1)],1),t._v(" "),a("small",[t._v("* indicates required field")]),t._v(" "),a("v-row",[a("v-col",[a("div",{staticClass:"float-right"},[a("v-btn",{attrs:{color:"primary",loading:t.isSaving,dense:"",outlinedx:"",text:"",smallx:""},on:{click:function(e){return t.saveExpense()}}},[t._v("\n                        Save\n                    ")]),t._v(" "),a("v-btn",{attrs:{color:"primary",dense:"",outlinedx:"",text:"",smallx:""},on:{click:function(e){t.Expenditures.state.add_expense=!1}}},[t._v("\n                        Close\n                    ")])],1)])],1)],1)],1)}),[],!1,null,null,null);e.default=i.exports}}]);