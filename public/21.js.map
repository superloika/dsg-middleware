{"version":3,"sources":["webpack:///resources/js/pages/Principals/common/Items.vue","webpack:///./resources/js/pages/Principals/common/Items.vue?7617","webpack:///./resources/js/pages/Principals/common/Items.vue","webpack:///./resources/js/pages/Principals/common/Items.vue?84e9","webpack:///./resources/js/pages/Principals/common/Items.vue?fe5b"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AAEA;AACA;AACA;AAAA;AAAA;AADA,GADA;AAKA;AAAA;AACA;AADA;AAAA,GALA;AASA;AACA,yBADA,mCACA;AACA;AACA,KAHA;AAKA,aALA,uBAKA;AACA;AACA,KAPA;AASA;AACA;AACA;AACA;AAEA,aAdA,uBAcA;AACA;AACA;AACA,OAFA,CAEA;AACA;AACA;AACA;AApBA,GATA;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,iBArBA,2BAqBA;AACA,0CACA,OADA,EAEA,gCAFA,EAGA,kBAHA,EAIA,IAJA,YAKA,0BALA;AAOA,KA7BA;AA+BA,gBA/BA,0BA+BA;AACA;AACA;AAjCA,GAhCA;AAsEA;AACA;AACA;AACA;AACA;;AACA;AACA,KALA,EAKA,GALA;AADA,GAtEA;AA+EA,SA/EA,qBA+EA;AACA;AACA;AAjFA,G;;;;;;;;;;;;ACrGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,qCAAqC,gBAAgB,EAAE;AAC5D;AACA;AACA;AACA,SAAS,2BAA2B;AACpC;AACA;AACA;AACA,aAAa,SAAS,kCAAkC,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,4CAA4C;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,uBAAuB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,0BAA0B,uCAAuC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,2BAA2B;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,qCAAqC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT,iCAAiC,SAAS,cAAc,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvKA;AAAA;AAAA;AAAA;AAAoF;AAC3B;AACL;;;AAGpD;AACmG;AACnG,gBAAgB,2GAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAAiM,CAAgB,iPAAG,EAAC,C;;;;;;;;;;;;ACArN;AAAA;AAAA;AAAA;AAAA;AAAA","file":"21.js","sourcesContent":["<template>\n    <v-card\n        outlinedx\n        class=\"elevation-0\"\n    >\n        <v-card-title class=\"pa-0 mb-2\">\n            <v-app-bar elevation=\"0\" colorx=\"white\">\n                <v-toolbar-title>\n                    <div>\n                        Items\n                    </div>\n                    <div>\n                        <em class=\"text-caption primary--text\">\n                            Updated at {{ updatedAt }}\n                        </em>\n                    </div>\n                </v-toolbar-title>\n\n                <v-spacer></v-spacer>\n\n                <v-btn\n                    title=\"Refresh\"\n                    icon\n                    dense\n                    rounded\n                    depressed\n                    class=\"mr-2\"\n                    @click=\"PrincipalsStore.initItems(searchKey)\"\n                >\n                    <v-icon>mdi-refresh</v-icon>\n                </v-btn>\n\n                <v-text-field\n                    v-model=\"searchKey\"\n                    label=\"Search\"\n                    clearable\n                    hide-details\n                    dense\n                    class=\"mr-3\"\n                    style=\"max-width:300px;\"\n                    flat\n                    rounded\n                    solo-inverted\n                ></v-text-field>\n\n                <v-btn\n                    title=\"Import\"\n                    icon\n                    dense\n                    @click.stop=\"PrincipalsStore.state.isUploadMasterItemsOpen=true\"\n                >\n                    <v-icon>mdi-file-upload</v-icon>\n                </v-btn>\n                <!-- <v-btn\n                    title=\"Export to Excel\"\n                    icon\n                    dense\n                    @click=\"exportToExcel()\"\n                >\n                    <v-icon>mdi-file-excel</v-icon>\n                </v-btn> -->\n            </v-app-bar>\n        </v-card-title>\n\n        <v-card-text class=\"mx-0 px-0\">\n            <v-data-table\n                :items=\"PrincipalsStore.state.items.data\"\n                :headers=\"tblHeader\"\n                dense\n                disable-pagination\n                hide-default-footer\n            >\n            </v-data-table>\n            <div>\n                <v-pagination\n                    v-model=\"PrincipalsStore.state.items.current_page\"\n                    :length=\"PrincipalsStore.state.items.last_page\"\n                    @input=\"onPageChange()\"\n                    total-visible=\"5\"\n                >\n                </v-pagination>\n            </div>\n        </v-card-text>\n\n        <v-dialog\n            v-model=\"PrincipalsStore.state.isUploadMasterItemsOpen\"\n            max-width=\"800\"\n            persistent\n        >\n            <MasterfileUpload\n                id=\"items\"\n            >\n            </MasterfileUpload>\n        </v-dialog>\n    </v-card>\n</template>\n\n\n<script>\nimport {debounce} from 'lodash';\n\nexport default {\n    components: {\n        MasterfileUpload: () => import('./MasterfileUpload.vue'),\n    },\n\n    data: () => ({\n        searchKey: '',\n    }),\n\n    computed: {\n        selectedPrincipalCode() {\n            return this.PrincipalsStore.state.selectedPrincipalCode;\n        },\n\n        tblHeader() {\n            return this[this.selectedPrincipalCode].state.itemsTableHeader[0];\n        },\n\n        // principal_code() {\n        //     const principal = this.AppStore.state.principals.find(e => e.id == this.$route.params.principal_id);\n        //     return principal.code.toLowerCase();\\\n        // },\n\n        updatedAt() {\n            try {\n                return this.PrincipalsStore.state.items[0].upload_date;\n            } catch (error) {\n                return 'NA';\n            }\n        },\n    },\n\n    methods: {\n        // exportToExcel() {\n        //     const data = [\n        //         [\n        //             'Items',\n        //             this.PrincipalsStore.state.items\n        //         ]\n        //     ];\n        //     const config = this.PrincipalsStore.getHeaderAndFormat('itemsTableHeader');\n\n        //     this.PrincipalsStore.exportToExcel(\n        //         config[0].header,\n        //         this.PrincipalsStore.generatedDataSubset(\n        //             data,\n        //             config[0].format\n        //         ),\n        //         null,\n        //         `${this.selectedPrincipalCode}_Items`\n        //     );\n        // },\n\n        exportToExcel() {\n            this.PrincipalsStore.toExcel_simple(\n                'Items',\n                this.PrincipalsStore.state.items,\n                'itemsTableHeader',\n                null,\n                `${this.selectedPrincipalCode}_Items`\n            );\n        },\n\n        onPageChange() {\n            this.PrincipalsStore.initItems(this.searchKey);\n        }\n\n\n    },\n\n    watch: {\n        searchKey: debounce(function() {\n            if(this.PrincipalsStore.state.items.current_page != undefined) {\n                this.PrincipalsStore.state.items.current_page = 1;\n            }\n            this.PrincipalsStore.initItems(this.searchKey);\n        }, 500),\n    },\n\n    created() {\n        this.PrincipalsStore.initItems();\n    }\n\n\n}\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"v-card\",\n    { staticClass: \"elevation-0\", attrs: { outlinedx: \"\" } },\n    [\n      _c(\n        \"v-card-title\",\n        { staticClass: \"pa-0 mb-2\" },\n        [\n          _c(\n            \"v-app-bar\",\n            { attrs: { elevation: \"0\", colorx: \"white\" } },\n            [\n              _c(\"v-toolbar-title\", [\n                _c(\"div\", [\n                  _vm._v(\"\\n                    Items\\n                \")\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", [\n                  _c(\"em\", { staticClass: \"text-caption primary--text\" }, [\n                    _vm._v(\n                      \"\\n                        Updated at \" +\n                        _vm._s(_vm.updatedAt) +\n                        \"\\n                    \"\n                    )\n                  ])\n                ])\n              ]),\n              _vm._v(\" \"),\n              _c(\"v-spacer\"),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  staticClass: \"mr-2\",\n                  attrs: {\n                    title: \"Refresh\",\n                    icon: \"\",\n                    dense: \"\",\n                    rounded: \"\",\n                    depressed: \"\"\n                  },\n                  on: {\n                    click: function($event) {\n                      return _vm.PrincipalsStore.initItems(_vm.searchKey)\n                    }\n                  }\n                },\n                [_c(\"v-icon\", [_vm._v(\"mdi-refresh\")])],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\"v-text-field\", {\n                staticClass: \"mr-3\",\n                staticStyle: { \"max-width\": \"300px\" },\n                attrs: {\n                  label: \"Search\",\n                  clearable: \"\",\n                  \"hide-details\": \"\",\n                  dense: \"\",\n                  flat: \"\",\n                  rounded: \"\",\n                  \"solo-inverted\": \"\"\n                },\n                model: {\n                  value: _vm.searchKey,\n                  callback: function($$v) {\n                    _vm.searchKey = $$v\n                  },\n                  expression: \"searchKey\"\n                }\n              }),\n              _vm._v(\" \"),\n              _c(\n                \"v-btn\",\n                {\n                  attrs: { title: \"Import\", icon: \"\", dense: \"\" },\n                  on: {\n                    click: function($event) {\n                      $event.stopPropagation()\n                      _vm.PrincipalsStore.state.isUploadMasterItemsOpen = true\n                    }\n                  }\n                },\n                [_c(\"v-icon\", [_vm._v(\"mdi-file-upload\")])],\n                1\n              )\n            ],\n            1\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card-text\",\n        { staticClass: \"mx-0 px-0\" },\n        [\n          _c(\"v-data-table\", {\n            attrs: {\n              items: _vm.PrincipalsStore.state.items.data,\n              headers: _vm.tblHeader,\n              dense: \"\",\n              \"disable-pagination\": \"\",\n              \"hide-default-footer\": \"\"\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            [\n              _c(\"v-pagination\", {\n                attrs: {\n                  length: _vm.PrincipalsStore.state.items.last_page,\n                  \"total-visible\": \"5\"\n                },\n                on: {\n                  input: function($event) {\n                    return _vm.onPageChange()\n                  }\n                },\n                model: {\n                  value: _vm.PrincipalsStore.state.items.current_page,\n                  callback: function($$v) {\n                    _vm.$set(\n                      _vm.PrincipalsStore.state.items,\n                      \"current_page\",\n                      $$v\n                    )\n                  },\n                  expression: \"PrincipalsStore.state.items.current_page\"\n                }\n              })\n            ],\n            1\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-dialog\",\n        {\n          attrs: { \"max-width\": \"800\", persistent: \"\" },\n          model: {\n            value: _vm.PrincipalsStore.state.isUploadMasterItemsOpen,\n            callback: function($$v) {\n              _vm.$set(\n                _vm.PrincipalsStore.state,\n                \"isUploadMasterItemsOpen\",\n                $$v\n              )\n            },\n            expression: \"PrincipalsStore.state.isUploadMasterItemsOpen\"\n          }\n        },\n        [_c(\"MasterfileUpload\", { attrs: { id: \"items\" } })],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Items.vue?vue&type=template&id=5be49dcd&\"\nimport script from \"./Items.vue?vue&type=script&lang=js&\"\nexport * from \"./Items.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\laragon\\\\www\\\\dsg-middleware\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('5be49dcd')) {\n      api.createRecord('5be49dcd', component.options)\n    } else {\n      api.reload('5be49dcd', component.options)\n    }\n    module.hot.accept(\"./Items.vue?vue&type=template&id=5be49dcd&\", function () {\n      api.rerender('5be49dcd', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/pages/Principals/common/Items.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Items.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Items.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Items.vue?vue&type=template&id=5be49dcd&\""],"sourceRoot":""}