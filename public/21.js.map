{"version":3,"sources":["webpack:///resources/js/pages/Principals/common/GeneratedActions.vue","webpack:///./resources/js/pages/Principals/common/GeneratedActions.vue?ee47","webpack:///./resources/js/pages/Principals/common/GeneratedActions.vue","webpack:///./resources/js/pages/Principals/common/GeneratedActions.vue?8a88","webpack:///./resources/js/pages/Principals/common/GeneratedActions.vue?cbea"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0JA;AAEA;AACA,uCADA;AAGA;AACA;AAAA;AAAA,KADA;AAEA;AAAA;AAAA;AAFA,GAHA;AAQA,MARA,kBAQA;AACA;AACA,+BADA;AAEA,2BAFA;AAGA,8BAHA,CAIA;;AAJA;AAMA,GAfA;AAiBA;AACA,iBADA,2BACA;AACA;AACA,KAHA;AAKA,yBALA,mCAKA;AACA;AACA,KAPA;AASA,mBATA,6BASA;AACA;AACA;AACA,OAFA,CAEA;AACA;AACA;AACA;AAfA,GAjBA;AAmCA;AACA,mBADA,2BACA,IADA,EACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDADA;AAEA,2CACA;AAHA;AAKA;AACA,eARA,MAQA;AACA;AACA;AACA,6CADA;AAEA,uCACA;AAHA;AAKA;AACA,eARA,MAQA;AACA;AACA;AACA;AACA,wCACA,oBAHA;AAIA,mCACA,0BALA;AAMA,2CACA;AAPA;AASA;AACA;AACA,aA9BA;;AA+BA;AACA;AACA;AACA,WApCA;AAqCA;;AAEA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,OAnDA,CAmDA;AACA;AACA;AACA;AACA,KAzDA;AA2DA,WA3DA,qBA2DA;AACA;AACA;AACA;AA9DA,GAnCA;AAoGA,SApGA,qBAoGA;AACA;AACA;AAtGA,G;;;;;;;;;;;;AC5JA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,iBAAiB,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,uBAAuB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,4BAA4B,SAAS,uBAAuB,EAAE;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,qCAAqC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChIA;AAAA;AAAA;AAAA;AAA+F;AAC3B;AACL;;;AAG/D;AACmG;AACnG,gBAAgB,2GAAU;AAC1B,EAAE,sFAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAA4M,CAAgB,4PAAG,EAAC,C;;;;;;;;;;;;ACAhO;AAAA;AAAA;AAAA;AAAA;AAAA","file":"21.js","sourcesContent":["<template>\n<div>\n    <v-app-bar elevation=\"0\">\n        <!-- refresh -->\n        <v-btn\n            title=\"Refresh\"\n            icon\n            dense\n            rounded\n            depressed\n            class=\"mr-2\"\n            @click=\"refresh()\"\n        >\n            <v-icon>mdi-refresh</v-icon>\n        </v-btn>\n\n        <!-- search -->\n        <v-text-field\n            v-model=\"PrincipalsStore.state.currentGeneratedDataSearchKey\"\n            label=\"Search\"\n            title=\"Search\"\n            hide-details\n            dense\n            class=\"mr-3\"\n            style=\"max-width: 200px\"\n            flat\n            rounded\n            clearable\n            solo-inverted\n            :disabled=\"\n                PrincipalsStore.state.currentGeneratedData.length < 1\n            \"\n        ></v-text-field>\n\n        <!-- ********************* UNMAPPED SHITS ************************* -->\n        <!-- UNMAPPED CUSTOMERS -->\n        <!-- <v-btn\n            title=\"Unmapped Customer/s\"\n            icon\n            dense\n            rounded\n            depressed\n            color=\"warning\"\n            @click.stop=\"dlgMissingCustomers = true\"\n            :disabled=\"missingInMaster('customer').length < 1\"\n        >\n            <v-icon>mdi-account-multiple</v-icon>\n        </v-btn>\n        <v-dialog v-model=\"dlgMissingCustomers\" max-width=\"700\" scrollable>\n            <MissingInMaster\n                id=\"customer\"\n                type=\"customer\"\n                title=\"Unmapped Customer/s\"\n                :missingInMaster=\"missingInMaster('customer')\"\n            ></MissingInMaster>\n        </v-dialog> -->\n        <!-- /UNMAPPED CUSTOMERS -->\n\n        <!-- UNMAPPED ITEMS -->\n        <!-- <v-btn\n            title=\"Unmapped Item/s\"\n            icon\n            dense\n            rounded\n            depressed\n            color=\"warning\"\n            @click.stop=\"dlgMissingItems = true\"\n            :disabled=\"missingInMaster('item').length < 1\"\n        >\n            <v-icon>mdi-cube</v-icon>\n        </v-btn>\n        <v-dialog\n            v-model=\"dlgMissingItems\"\n            persistentx\n            max-width=\"900\"\n            scrollable\n        >\n            <MissingInMaster\n                id=\"item\"\n                type=\"item\"\n                title=\"Unmapped Item/s\"\n                :missingInMaster=\"missingInMaster('item')\"\n            ></MissingInMaster>\n        </v-dialog> -->\n        <!-- /UNMAPPED ITEMS -->\n\n        <!-- UNMAPPED SALESMEN -->\n        <!-- <v-btn\n            title=\"Unmapped Salesmen\"\n            icon\n            dense\n            rounded\n            depressed\n            color=\"warning\"\n            @click.stop=\"dlgMissingSalesmen = true\"\n            :disabled=\"missingInMaster('salesman').length < 1\"\n        >\n            <v-icon>mdi-account</v-icon>\n        </v-btn>\n        <v-dialog\n            v-model=\"dlgMissingSalesmen\"\n            persistentx\n            max-width=\"600\"\n            scrollable\n        >\n            <MissingInMaster\n                id=\"salesman\"\n                type=\"salesman\"\n                title=\"Unmapped Salesmen\"\n                :missingInMaster=\"missingInMaster('salesman')\"\n            ></MissingInMaster>\n        </v-dialog> -->\n        <!-- /UNMAPPED SALESMEN -->\n        <!-- ********************* /UNMAPPED SHITS ************************* -->\n\n        <!-- ********************* EXPORT ************************ -->\n        <v-btn\n            title=\"Export to Excel\"\n            dense\n            rounded\n            color=\"primary\"\n            @click.stop=\"\n                PrincipalsStore.state.confirmExportDialogOpen = true\n            \"\n            :disabled=\"\n                lineCount < 1 ||\n                    searchKeyLength > 0 ||\n                    warningsCount >= lineCount\n            \"\n        >\n            <v-icon left size=\"25\">mdi-file-excel</v-icon>\n            Export({{ lineCount - warningsCount }})\n        </v-btn>\n        <!-- confirm export dialog -->\n        <v-dialog\n            persistent\n            v-model=\"PrincipalsStore.state.confirmExportDialogOpen\"\n            max-width=\"500\"\n        >\n            <ConfirmExport\n                :id=\"\n                    'confirm_export_' +\n                        PrincipalsStore.state.selectedPrincipalCode\n                \"\n            >\n            </ConfirmExport>\n        </v-dialog>\n        <!-- ********************* /EXPORT ************************ -->\n\n    </v-app-bar>\n</div>\n</template>\n\n<script>\nimport PrincipalsStore from '../../../stores.custom/PrincipalsStore';\n\nexport default {\n    props: ['lineCount','warningsCount'],\n\n    components: {\n        MissingInMaster: () => import(\"./MissingInMaster.vue\"),\n        ConfirmExport: () => import(\"./ConfirmExport.vue\")\n    },\n\n    data() {\n        return {\n            dlgMissingCustomers: null,\n            dlgMissingItems: null,\n            dlgMissingSalesmen: null,\n            // dlgPendings: null\n        };\n    },\n\n    computed: {\n        generatedData() {\n            return PrincipalsStore.state.currentGeneratedData;\n        },\n\n        selectedPrincipalCode() {\n            return PrincipalsStore.state.selectedPrincipalCode;\n        },\n\n        searchKeyLength() {\n            try {\n                return PrincipalsStore.state.currentGeneratedDataSearchKey.length;\n            } catch (error) {\n                return 0;\n            }\n        },\n    },\n\n    methods: {\n        missingInMaster(type) {\n            try {\n                let result = [];\n                if (this.generatedData.length > 0) {\n                    this.generatedData[0].output_template.forEach(e => {\n                        let tempArray = [];\n                        e[1].forEach(line => {\n                            if (type == \"customer\") {\n                                if (line.customer_notfound == 1) {\n                                    tempArray.push({\n                                        customer_code: line.customer_code,\n                                        missing_customer_name:\n                                            line.missing_customer_name\n                                    });\n                                }\n                            } else if (type == \"item\") {\n                                if (line.item_notfound == 1) {\n                                    tempArray.push({\n                                        item_code: line.item_code,\n                                        missing_item_name:\n                                            line.missing_item_name\n                                    });\n                                }\n                            } else if (type == \"salesman\") {\n                                if (line.salesman_notfound == 1) {\n                                    tempArray.push({\n                                        // bit of hacking here haha..\n                                        real_salesman_code:\n                                            line.alturas_sm_code,\n                                        salesman_code:\n                                            line.missing_salesman_name,\n                                        missing_salesman_name:\n                                            line.missing_salesman_name\n                                    });\n                                }\n                            }\n                        });\n                        if (tempArray.length > 0) {\n                            result.push(...tempArray);\n                        }\n                    });\n                }\n\n                let unique = [];\n                let distinct = [];\n                for (let i = 0; i < result.length; i++) {\n                    if (!unique[result[i][type + \"_code\"]]) {\n                        distinct.push(result[i]);\n                        unique[result[i][type + \"_code\"]] = 1;\n                    }\n                }\n                return distinct;\n            } catch (error) {\n                console.log(\"missingInMaster() - ERR:\", error);\n                return [];\n            }\n        },\n\n        refresh() {\n            PrincipalsStore.initCurrentGeneratedData(this.selectedPrincipalCode);\n            PrincipalsStore.state.currentGeneratedDataSearchKey = '';\n        },\n    },\n\n    mounted() {\n        console.log(\"GeneratedActions component mounted\");\n    }\n};\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\n        \"v-app-bar\",\n        { attrs: { elevation: \"0\" } },\n        [\n          _c(\n            \"v-btn\",\n            {\n              staticClass: \"mr-2\",\n              attrs: {\n                title: \"Refresh\",\n                icon: \"\",\n                dense: \"\",\n                rounded: \"\",\n                depressed: \"\"\n              },\n              on: {\n                click: function($event) {\n                  return _vm.refresh()\n                }\n              }\n            },\n            [_c(\"v-icon\", [_vm._v(\"mdi-refresh\")])],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\"v-text-field\", {\n            staticClass: \"mr-3\",\n            staticStyle: { \"max-width\": \"200px\" },\n            attrs: {\n              label: \"Search\",\n              title: \"Search\",\n              \"hide-details\": \"\",\n              dense: \"\",\n              flat: \"\",\n              rounded: \"\",\n              clearable: \"\",\n              \"solo-inverted\": \"\",\n              disabled:\n                _vm.PrincipalsStore.state.currentGeneratedData.length < 1\n            },\n            model: {\n              value: _vm.PrincipalsStore.state.currentGeneratedDataSearchKey,\n              callback: function($$v) {\n                _vm.$set(\n                  _vm.PrincipalsStore.state,\n                  \"currentGeneratedDataSearchKey\",\n                  $$v\n                )\n              },\n              expression: \"PrincipalsStore.state.currentGeneratedDataSearchKey\"\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\n            \"v-btn\",\n            {\n              attrs: {\n                title: \"Export to Excel\",\n                dense: \"\",\n                rounded: \"\",\n                color: \"primary\",\n                disabled:\n                  _vm.lineCount < 1 ||\n                  _vm.searchKeyLength > 0 ||\n                  _vm.warningsCount >= _vm.lineCount\n              },\n              on: {\n                click: function($event) {\n                  $event.stopPropagation()\n                  _vm.PrincipalsStore.state.confirmExportDialogOpen = true\n                }\n              }\n            },\n            [\n              _c(\"v-icon\", { attrs: { left: \"\", size: \"25\" } }, [\n                _vm._v(\"mdi-file-excel\")\n              ]),\n              _vm._v(\n                \"\\n            Export(\" +\n                  _vm._s(_vm.lineCount - _vm.warningsCount) +\n                  \")\\n        \"\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-dialog\",\n            {\n              attrs: { persistent: \"\", \"max-width\": \"500\" },\n              model: {\n                value: _vm.PrincipalsStore.state.confirmExportDialogOpen,\n                callback: function($$v) {\n                  _vm.$set(\n                    _vm.PrincipalsStore.state,\n                    \"confirmExportDialogOpen\",\n                    $$v\n                  )\n                },\n                expression: \"PrincipalsStore.state.confirmExportDialogOpen\"\n              }\n            },\n            [\n              _c(\"ConfirmExport\", {\n                attrs: {\n                  id:\n                    \"confirm_export_\" +\n                    _vm.PrincipalsStore.state.selectedPrincipalCode\n                }\n              })\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./GeneratedActions.vue?vue&type=template&id=75a8551e&\"\nimport script from \"./GeneratedActions.vue?vue&type=script&lang=js&\"\nexport * from \"./GeneratedActions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\laragon\\\\www\\\\DSG-MIDDLEWARE\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('75a8551e')) {\n      api.createRecord('75a8551e', component.options)\n    } else {\n      api.reload('75a8551e', component.options)\n    }\n    module.hot.accept(\"./GeneratedActions.vue?vue&type=template&id=75a8551e&\", function () {\n      api.rerender('75a8551e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/pages/Principals/common/GeneratedActions.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneratedActions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneratedActions.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GeneratedActions.vue?vue&type=template&id=75a8551e&\""],"sourceRoot":""}