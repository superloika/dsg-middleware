{"version":3,"sources":["webpack:///resources/js/pages/ManageAccounts/AccountsEditPassword.vue","webpack:///./resources/js/pages/ManageAccounts/AccountsEditPassword.vue?f6a2","webpack:///./resources/js/pages/ManageAccounts/AccountsEditPassword.vue","webpack:///./resources/js/pages/ManageAccounts/AccountsEditPassword.vue?399f","webpack:///./resources/js/pages/ManageAccounts/AccountsEditPassword.vue?22e0"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA,MADA,kBACA;AAAA;;AACA;AACA,sBADA;AAEA;AACA,+CADA;AAEA;AACA,wBAHA;AAIA,oBAJA;AAKA,iCALA;AAOA;AACA,yBACA;AAAA;AAAA,WADA,CADA;AAIA,qBACA;AAAA;AAAA,WADA,EAEA;AAAA,mBACA,iBACA,yCAFA;AAAA,WAFA,CAJA;AAUA,kCACA;AAAA;AAAA,WADA,EAEA;AAAA,mBACA,gCACA,qCAFA;AAAA,WAFA;AAVA;AAPA,OAFA;AA2BA,6BA3BA;AA4BA,iBA5BA;AA6BA,yBA7BA;AA8BA;AA9BA;AAgCA,GAlCA;AAoCA,WApCA;AAwCA;AACA,kBADA,4BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEA,4BAFA;AAAA;AAAA;AAAA;;AAGA,mBAHA,aAGA,6BAHA;AAKA,uBALA,GAKA;AACA,kCADA;AAEA,uCAFA;AAGA;AACA,2DAJA;AAKA,mDALA;AAMA;AANA,iBALA;AAAA;AAeA;AAfA;AAAA,uBAgBA,wBAhBA;;AAAA;AAgBA,wBAhBA;;AAiBA;AAEA;AACA;AACA;;AAEA;;AACA;;AACA;AACA,iBATA,MASA,IACA,4CACA,mCAFA,EAGA;AACA;AACA;AACA;AACA,sEACA;AACA;AACA,mBAHA,EAJA,CAUA;;AACA;AACA,iBAfA,MAeA,IACA,mCACA,oCAFA,EAGA;AACA;;AACA;AACA;;AA/CA;AAAA;;AAAA;AAAA;AAAA;AAiDA;;AACA;;AAlDA;AAoDA;;AApDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsDA;AAvDA,GAxCA;AAkGA,SAlGA,qBAkGA;AACA;AACA;AApGA,G;;;;;;;;;;;;ACnFA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS,aAAa,EAAE;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS,aAAa,EAAE;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS,aAAa,EAAE;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mCAAmC,4BAA4B,EAAE;AAC9E;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChKA;AAAA;AAAA;AAAA;AAAmG;AAC3B;AACL;;;AAGnE;AACgG;AAChG,gBAAgB,2GAAU;AAC1B,EAAE,0FAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAA0M,CAAgB,gQAAG,EAAC,C;;;;;;;;;;;;ACA9N;AAAA;AAAA;AAAA;AAAA;AAAA","file":"13.js","sourcesContent":["<template>\n    <v-container>\n        <!-- <v-alert\n            text\n            type=\"error\"\n            dismissible\n            transition=\"scale-transition\"\n            v-model=\"errMsgsShown\"\n        >\n            <div>\n                <p\n                    class=\"ma-0 pa-0\"\n                    v-for=\"(errMsg, index) in errMsgs\"\n                    :key=\"index\"\n                >\n                    {{ errMsg }}\n                </p>\n                <br />\n            </div>\n        </v-alert> -->\n\n        <v-form v-model=\"frmEditPw\" ref=\"form\">\n            <v-row>\n                <v-col cols=\"12\">\n                    <v-text-field\n                        outlined\n                        text\n                        label=\"Old Password *\"\n                        required\n                        type=\"password\"\n                        v-model=\"account.old_password\"\n                        :rules=\"account.rules.old_password\"\n                        :error=\"(errorMsgs.old_password != undefined) ? true : false\"\n                        :error-messages=\"(errorMsgs.old_password != undefined) ? errorMsgs.old_password : []\"\n                    ></v-text-field>\n                </v-col>\n\n                <v-col cols=\"12\">\n                    <v-text-field\n                        outlined\n                        text\n                        label=\"New Password *\"\n                        required\n                        type=\"password\"\n                        v-model=\"account.password\"\n                        :rules=\"account.rules.password\"\n                        :error=\"(errorMsgs.password != undefined) ? true : false\"\n                        :error-messages=\"(errorMsgs.password != undefined) ? errorMsgs.password : []\"\n                    ></v-text-field>\n                </v-col>\n\n                <v-col cols=\"12\">\n                    <v-text-field\n                        outlined\n                        text\n                        label=\"Confirm Password *\"\n                        autocomplete=\"false\"\n                        required\n                        type=\"password\"\n                        v-model=\"account.password_confirmation\"\n                        :rules=\"account.rules.password_confirmation\"\n                    ></v-text-field>\n                </v-col>\n            </v-row>\n\n            <v-row class=\"pt-0 pb-0\" background-color=\"red\">\n                <v-col class=\"pt-0 pb-2\" background-color=\"red\">\n                    <v-btn\n                        color=\"primary\"\n                        @click=\"updatePassword()\"\n                        :loading=\"updatingPassword\"\n                        class=\"float-lg-right float-md-right float-sm-right\"\n                        rounded\n                    >\n                        Update Password\n                    </v-btn>\n                </v-col>\n            </v-row>\n        </v-form>\n    </v-container>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            frmEditPw: false,\n            account: {\n                id: this.ManageAccounts.state.toEdit.id,\n                // old_password_hashed: this.ManageAccounts.state.toEdit.old_password_hashed,\n                old_password: '',\n                password: '',\n                password_confirmation: '',\n\n                rules: {\n                    old_password: [\n                        v => !!v || \"Old password is required.\",\n                    ],\n                    password: [\n                        v => !!v || \"Password is required.\",\n                        v =>\n                            v.length >= 3 ||\n                            \"Password must be 3 characters or above.\"\n                    ],\n                    password_confirmation: [\n                        v => !!v || \"Please confirm your password.\",\n                        v =>\n                            v === this.account.password ||\n                            \"Password confirmation is incorrect.\"\n                    ],\n                }\n            },\n            updatingPassword: false,\n            errMsgs: [],\n            errMsgsShown: false,\n            errorMsgs: {},\n        };\n    },\n\n    watch: {\n\n    },\n\n    methods: {\n        async updatePassword() {\n            // const vm = this;\n            if (this.$refs.form.validate()) {\n                let url = `${this.AppStore.state.siteUrl}accounts/update-password`;\n\n                let payload = {\n                    _method: \"PATCH\",\n                    id: this.account.id,\n                    // old_password_hashed: this.account.old_password_hashed,\n                    old_password: this.account.old_password,\n                    password: this.account.password,\n                    password_confirmation: this.account.password_confirmation,\n                }\n\n                try {\n                    this.updatingPassword = true;\n                    let response = await axios.post(url, payload);\n                    if (response.data == true) {\n\n                        if(this.$route.meta.name==='Account') {\n                            location.reload();\n                        }\n\n                        this.ManageAccounts.initUsers();\n                        this.ManageAccounts.state.modalEditIsOpen = false;\n                        this.AppStore.toast(\"Password updated\", 1500);\n                    } else if (\n                        response.data.invalidations != undefined ||\n                        response.data.invalidations != null\n                    ) {\n                        this.errMsgs = [];\n                        this.errorMsgs = {};\n                        this.errorMsgs = response.data.invalidations;\n                        Object.entries(response.data.invalidations).forEach(\n                            field => {\n                                this.errMsgs.push(field[1][0]);\n                            }\n\n                        );\n                        // this.AppStore.toast(this.errMsgs, 3000);\n                        this.errMsgsShown = true;\n                    } else if (\n                        response.data.errorInfo != null ||\n                        response.data.errorInfo != undefined\n                    ) {\n                        this.AppStore.toast(\"An error occured\", 2000);\n                        console.log(response.data.errorInfo);\n                    }\n                } catch (error) {\n                    console.log(error);\n                    this.AppStore.toast(error, 3000);\n                }\n                this.updatingPassword = false;\n            }\n        }\n    },\n\n    mounted() {\n        console.log('AccountsEditPassword component mounted');\n    }\n};\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"v-container\",\n    [\n      _c(\n        \"v-form\",\n        {\n          ref: \"form\",\n          model: {\n            value: _vm.frmEditPw,\n            callback: function($$v) {\n              _vm.frmEditPw = $$v\n            },\n            expression: \"frmEditPw\"\n          }\n        },\n        [\n          _c(\n            \"v-row\",\n            [\n              _c(\n                \"v-col\",\n                { attrs: { cols: \"12\" } },\n                [\n                  _c(\"v-text-field\", {\n                    attrs: {\n                      outlined: \"\",\n                      text: \"\",\n                      label: \"Old Password *\",\n                      required: \"\",\n                      type: \"password\",\n                      rules: _vm.account.rules.old_password,\n                      error:\n                        _vm.errorMsgs.old_password != undefined ? true : false,\n                      \"error-messages\":\n                        _vm.errorMsgs.old_password != undefined\n                          ? _vm.errorMsgs.old_password\n                          : []\n                    },\n                    model: {\n                      value: _vm.account.old_password,\n                      callback: function($$v) {\n                        _vm.$set(_vm.account, \"old_password\", $$v)\n                      },\n                      expression: \"account.old_password\"\n                    }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-col\",\n                { attrs: { cols: \"12\" } },\n                [\n                  _c(\"v-text-field\", {\n                    attrs: {\n                      outlined: \"\",\n                      text: \"\",\n                      label: \"New Password *\",\n                      required: \"\",\n                      type: \"password\",\n                      rules: _vm.account.rules.password,\n                      error: _vm.errorMsgs.password != undefined ? true : false,\n                      \"error-messages\":\n                        _vm.errorMsgs.password != undefined\n                          ? _vm.errorMsgs.password\n                          : []\n                    },\n                    model: {\n                      value: _vm.account.password,\n                      callback: function($$v) {\n                        _vm.$set(_vm.account, \"password\", $$v)\n                      },\n                      expression: \"account.password\"\n                    }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-col\",\n                { attrs: { cols: \"12\" } },\n                [\n                  _c(\"v-text-field\", {\n                    attrs: {\n                      outlined: \"\",\n                      text: \"\",\n                      label: \"Confirm Password *\",\n                      autocomplete: \"false\",\n                      required: \"\",\n                      type: \"password\",\n                      rules: _vm.account.rules.password_confirmation\n                    },\n                    model: {\n                      value: _vm.account.password_confirmation,\n                      callback: function($$v) {\n                        _vm.$set(_vm.account, \"password_confirmation\", $$v)\n                      },\n                      expression: \"account.password_confirmation\"\n                    }\n                  })\n                ],\n                1\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-row\",\n            { staticClass: \"pt-0 pb-0\", attrs: { \"background-color\": \"red\" } },\n            [\n              _c(\n                \"v-col\",\n                {\n                  staticClass: \"pt-0 pb-2\",\n                  attrs: { \"background-color\": \"red\" }\n                },\n                [\n                  _c(\n                    \"v-btn\",\n                    {\n                      staticClass:\n                        \"float-lg-right float-md-right float-sm-right\",\n                      attrs: {\n                        color: \"primary\",\n                        loading: _vm.updatingPassword,\n                        rounded: \"\"\n                      },\n                      on: {\n                        click: function($event) {\n                          return _vm.updatePassword()\n                        }\n                      }\n                    },\n                    [\n                      _vm._v(\n                        \"\\n                    Update Password\\n                \"\n                      )\n                    ]\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./AccountsEditPassword.vue?vue&type=template&id=0f82d596&\"\nimport script from \"./AccountsEditPassword.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountsEditPassword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\laragon\\\\www\\\\DSGPM_DEV\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('0f82d596')) {\n      api.createRecord('0f82d596', component.options)\n    } else {\n      api.reload('0f82d596', component.options)\n    }\n    module.hot.accept(\"./AccountsEditPassword.vue?vue&type=template&id=0f82d596&\", function () {\n      api.rerender('0f82d596', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/pages/ManageAccounts/AccountsEditPassword.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountsEditPassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountsEditPassword.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountsEditPassword.vue?vue&type=template&id=0f82d596&\""],"sourceRoot":""}