{"version":3,"sources":["webpack:///resources/js/pages/Principals/common/Transactions.vue","webpack:///./resources/js/pages/Principals/common/Transactions.vue?4d11","webpack:///./resources/js/pages/Principals/common/Transactions.vue","webpack:///./resources/js/pages/Principals/common/Transactions.vue?5957","webpack:///./resources/js/pages/Principals/common/Transactions.vue?a1e8"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyIA;AACA;AAEA;AAAA;AACA,sBADA;AAEA;AACA,mBAHA;AAIA,4BAJA;AAKA,2EACA,WADA,GAEA,MAFA,CAEA,CAFA,EAEA,EAFA;AALA;AAAA,GAHA;AAaA;AACA,yBADA,mCACA;AACA;AACA,KAHA;AAKA,aALA,uBAKA;AACA;AACA,KAPA;AASA,eATA,yBASA;AACA;;AAEA;AACA;AACA;AACA,SAFA;AAGA;;AACA;AACA,KAlBA;AAoBA,iBApBA,2BAoBA;AACA;AACA;AAtBA,GAbA;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,iBAvBA,2BAuBA;AACA,0CACA,oBADA,EAEA,uCAFA,EAGA,yBAHA,EAIA,MAJA,YAKA,0BALA;AAOA,KA/BA;AAiCA,8BAjCA,wCAiCA;AACA,mFADA,CAEA;;AACA;AACA;AArCA,GAtCA;AA8EA,SA9EA,qBA8EA;AACA;AACA,GAhFA;AAkFA,SAlFA,qBAkFA,CAEA;AApFA,G;;;;;;;;;;;;ACzIA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,qCAAqC,aAAa,EAAE;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,uBAAuB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,sBAAsB,2CAA2C;AACjE;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,0BAA0B,4BAA4B;AACtD;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,6BAA6B;AAC3D;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,6BAA6B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,uBAAuB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,kCAAkC,SAAS,gCAAgC,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,kCAAkC,8BAA8B;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,kCAAkC,8BAA8B;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtTA;AAAA;AAAA;AAAA;AAA2F;AAC3B;AACL;;;AAG3D;AACmG;AACnG,gBAAgB,2GAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAAwM,CAAgB,wPAAG,EAAC,C;;;;;;;;;;;;ACA5N;AAAA;AAAA;AAAA;AAAA;AAAA","file":"2.js","sourcesContent":["<template>\n<v-sheet>\n    <v-app-bar class=\"elevation-0\" densex>\n        <v-toolbar-title>\n            <div>\n                Transactions\n            </div>\n            <div>\n                <v-chip color=\"transparent\" label\n                    class=\"px-1 mr-1 primary--text\" small>\n                    <em>Total Amount:&nbsp;</em>\n                    {{ AppStore.formatAsCurrency(totalAmount) }}\n                </v-chip>\n                <v-chip color=\"transparent\" label\n                    class=\"px-1 mr-1 primary--text\" small>\n                    <em>Grand Total:&nbsp;</em>\n                    {{ AppStore.formatAsCurrency(PrincipalsStore.state.invoicesGrandTotal) }}\n                </v-chip>\n            </div>\n        </v-toolbar-title>\n\n        <v-spacer></v-spacer>\n\n        <v-btn\n            title=\"Refresh\"\n            icon\n            dense\n            rounded\n            depressed\n            class=\"mr-2\"\n            @click=\"loadInvoicesOrTransactions()\"\n        >\n            <v-icon>mdi-refresh</v-icon>\n        </v-btn>\n\n        <v-text-field\n            v-model=\"dateRangeText\"\n            label=\"Date - YYYY-MM-DD\"\n            hide-details\n            readonly\n            dense\n            outlined\n            rounded\n            @click.stop=\"datePickerShown=true\"\n            class=\"mr-3\"\n            style=\"max-width:230px;\"\n        ></v-text-field>\n        <!-- DATEPICKER -->\n        <v-dialog\n            ref=\"datePicker\"\n            v-model=\"datePickerShown\"\n            :return-value.sync=\"date\"\n            width=\"290px\"\n        >\n            <v-date-picker v-model=\"date\" scrollable range>\n                <v-spacer></v-spacer>\n                <v-btn\n                    text\n                    color=\"primary\"\n                    @click=\"datePickerShown = false\"\n                >\n                    Cancel\n                </v-btn>\n                <v-btn\n                    text\n                    color=\"primary\"\n                    @click=\"$refs.datePicker.save(date);loadInvoicesOrTransactions();\"\n                >\n                    Generate\n                </v-btn>\n            </v-date-picker>\n        </v-dialog>\n        <!-- /DATEPICKER -->\n\n        <!-- SEARCH -->\n        <v-text-field\n            v-model=\"searchKey\"\n            label=\"Search\"\n            clearable\n            hide-details\n            dense\n            style=\"max-width:230px;\"\n            flat\n            rounded\n            solo-inverted\n        ></v-text-field>\n        <!-- /SEARCH -->\n\n        <v-btn color=\"success\"\n            icon\n            title=\"Export to Excel\"\n            @click=\"exportToExcel()\"\n            :disabled=\"(searchKey!=null && searchKey!='') ||\n                    PrincipalsStore.state.transactions.length < 1\n                \"\n        >\n            <v-icon>mdi-file-excel</v-icon>\n        </v-btn>\n    </v-app-bar>\n    <v-sheet>\n        <v-data-table\n            :items=\"PrincipalsStore.state.transactions\"\n            :headers=\"tblHeader\"\n            dense\n            :search=\"searchKey\"\n            classz=\"elevation-1\"\n            id=\"transactions\"\n            :loading=\"PrincipalsStore.state.isInitTransactions\"\n        >\n            <template v-slot:[`item.upload_date`] = \"{ item }\">\n                <span>\n                    {{ item.upload_date.substring(0,10) }}\n                </span>\n            </template>\n            <!-- u3 = amount (haha) -->\n            <template v-slot:[`item.u3`] = \"{ item }\">\n                <span background-color=\"primary\">\n                    {{ AppStore.formatAsCurrency(parseFloat(item.u3)) }}\n                </span>\n            </template>\n            <template v-slot:[`item.customer_name`] = \"{ item }\">\n                <span class=\"text-caption\">\n                    {{ item.customer_name }}\n                </span>\n            </template>\n            <template v-slot:[`item.description`] = \"{ item }\">\n                <span class=\"text-caption\">\n                    {{ item.description }}\n                </span>\n            </template>\n        </v-data-table>\n    </v-sheet>\n</v-sheet>\n</template>\n\n\n<script>\nexport default {\n    // props: ['date','searchKey'],\n\n    data: () => ({\n        grandTotal: 0.00,\n        // tblFirstPageTotalAmount: 0.00,\n        searchKey: '',\n        datePickerShown: false,\n        date: [new Date(Date.now() - new Date().getTimezoneOffset() * 60000)\n            .toISOString()\n            .substr(0, 10)],\n    }),\n\n    computed: {\n        selectedPrincipalCode() {\n            return this.PrincipalsStore.state.selectedPrincipalCode;\n        },\n\n        tblHeader() {\n            return this[this.selectedPrincipalCode].state.transactionsTableHeader[0];\n        },\n\n        totalAmount() {\n            let amount = 0.00;\n\n            if(this.PrincipalsStore.state.transactions.length > 0) {\n                this.PrincipalsStore.state.transactions.forEach(e => {\n                    amount += parseFloat(e.u3);\n                });\n            }\n            return amount;\n        },\n\n        dateRangeText() {\n            return this.date.join(' ~ ');\n        },\n    },\n\n    methods: {\n        // exportToExcel() {\n        //     const transactionsData = [\n        //         [\n        //             this.date.toString(),\n        //             this.PrincipalsStore.state.transactions\n        //         ]\n        //     ];\n\n        //     const config = this.PrincipalsStore\n        //         .getHeaderAndFormat('transactionsTableHeader');\n\n        //     this.PrincipalsStore.exportToExcel(\n        //         config[0].header,\n        //         this.PrincipalsStore.generatedDataSubset(\n        //             transactionsData,\n        //             config[0].format\n        //         ),\n        //         [7, 8],\n        //         `${this.selectedPrincipalCode}_Transactions`\n        //     );\n        // },\n\n        exportToExcel() {\n            this.PrincipalsStore.toExcel_simple(\n                this.date.toString(),\n                this.PrincipalsStore.state.transactions,\n                'transactionsTableHeader',\n                [7,8],\n                `${this.selectedPrincipalCode}_Transactions`\n            );\n        },\n\n        loadInvoicesOrTransactions() {\n            this.PrincipalsStore.initTransactions(this.selectedPrincipalCode, this.date);\n            // this.PrincipalsStore.initInvoices(this.selectedPrincipalCode, this.date);\n            this.PrincipalsStore.initInvoicesGrandTotal();\n        },\n    },\n\n    created() {\n        this.loadInvoicesOrTransactions();\n    },\n\n    mounted() {\n\n    }\n\n\n}\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"v-sheet\",\n    [\n      _c(\n        \"v-app-bar\",\n        { staticClass: \"elevation-0\", attrs: { densex: \"\" } },\n        [\n          _c(\"v-toolbar-title\", [\n            _c(\"div\", [_vm._v(\"\\n                Transactions\\n            \")]),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              [\n                _c(\n                  \"v-chip\",\n                  {\n                    staticClass: \"px-1 mr-1 primary--text\",\n                    attrs: { color: \"transparent\", label: \"\", small: \"\" }\n                  },\n                  [\n                    _c(\"em\", [_vm._v(\"Total Amount: \")]),\n                    _vm._v(\n                      \"\\n                    \" +\n                        _vm._s(_vm.AppStore.formatAsCurrency(_vm.totalAmount)) +\n                        \"\\n                \"\n                    )\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"v-chip\",\n                  {\n                    staticClass: \"px-1 mr-1 primary--text\",\n                    attrs: { color: \"transparent\", label: \"\", small: \"\" }\n                  },\n                  [\n                    _c(\"em\", [_vm._v(\"Grand Total: \")]),\n                    _vm._v(\n                      \"\\n                    \" +\n                        _vm._s(\n                          _vm.AppStore.formatAsCurrency(\n                            _vm.PrincipalsStore.state.invoicesGrandTotal\n                          )\n                        ) +\n                        \"\\n                \"\n                    )\n                  ]\n                )\n              ],\n              1\n            )\n          ]),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\n            \"v-btn\",\n            {\n              staticClass: \"mr-2\",\n              attrs: {\n                title: \"Refresh\",\n                icon: \"\",\n                dense: \"\",\n                rounded: \"\",\n                depressed: \"\"\n              },\n              on: {\n                click: function($event) {\n                  return _vm.loadInvoicesOrTransactions()\n                }\n              }\n            },\n            [_c(\"v-icon\", [_vm._v(\"mdi-refresh\")])],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\"v-text-field\", {\n            staticClass: \"mr-3\",\n            staticStyle: { \"max-width\": \"230px\" },\n            attrs: {\n              label: \"Date - YYYY-MM-DD\",\n              \"hide-details\": \"\",\n              readonly: \"\",\n              dense: \"\",\n              outlined: \"\",\n              rounded: \"\"\n            },\n            on: {\n              click: function($event) {\n                $event.stopPropagation()\n                _vm.datePickerShown = true\n              }\n            },\n            model: {\n              value: _vm.dateRangeText,\n              callback: function($$v) {\n                _vm.dateRangeText = $$v\n              },\n              expression: \"dateRangeText\"\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\n            \"v-dialog\",\n            {\n              ref: \"datePicker\",\n              attrs: { \"return-value\": _vm.date, width: \"290px\" },\n              on: {\n                \"update:returnValue\": function($event) {\n                  _vm.date = $event\n                },\n                \"update:return-value\": function($event) {\n                  _vm.date = $event\n                }\n              },\n              model: {\n                value: _vm.datePickerShown,\n                callback: function($$v) {\n                  _vm.datePickerShown = $$v\n                },\n                expression: \"datePickerShown\"\n              }\n            },\n            [\n              _c(\n                \"v-date-picker\",\n                {\n                  attrs: { scrollable: \"\", range: \"\" },\n                  model: {\n                    value: _vm.date,\n                    callback: function($$v) {\n                      _vm.date = $$v\n                    },\n                    expression: \"date\"\n                  }\n                },\n                [\n                  _c(\"v-spacer\"),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { text: \"\", color: \"primary\" },\n                      on: {\n                        click: function($event) {\n                          _vm.datePickerShown = false\n                        }\n                      }\n                    },\n                    [_vm._v(\"\\n                    Cancel\\n                \")]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-btn\",\n                    {\n                      attrs: { text: \"\", color: \"primary\" },\n                      on: {\n                        click: function($event) {\n                          _vm.$refs.datePicker.save(_vm.date)\n                          _vm.loadInvoicesOrTransactions()\n                        }\n                      }\n                    },\n                    [_vm._v(\"\\n                    Generate\\n                \")]\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\"v-text-field\", {\n            staticStyle: { \"max-width\": \"230px\" },\n            attrs: {\n              label: \"Search\",\n              clearable: \"\",\n              \"hide-details\": \"\",\n              dense: \"\",\n              flat: \"\",\n              rounded: \"\",\n              \"solo-inverted\": \"\"\n            },\n            model: {\n              value: _vm.searchKey,\n              callback: function($$v) {\n                _vm.searchKey = $$v\n              },\n              expression: \"searchKey\"\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\n            \"v-btn\",\n            {\n              attrs: {\n                color: \"success\",\n                icon: \"\",\n                title: \"Export to Excel\",\n                disabled:\n                  (_vm.searchKey != null && _vm.searchKey != \"\") ||\n                  _vm.PrincipalsStore.state.transactions.length < 1\n              },\n              on: {\n                click: function($event) {\n                  return _vm.exportToExcel()\n                }\n              }\n            },\n            [_c(\"v-icon\", [_vm._v(\"mdi-file-excel\")])],\n            1\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-sheet\",\n        [\n          _c(\"v-data-table\", {\n            attrs: {\n              items: _vm.PrincipalsStore.state.transactions,\n              headers: _vm.tblHeader,\n              dense: \"\",\n              search: _vm.searchKey,\n              classz: \"elevation-1\",\n              id: \"transactions\",\n              loading: _vm.PrincipalsStore.state.isInitTransactions\n            },\n            scopedSlots: _vm._u(\n              [\n                {\n                  key: \"item.upload_date\",\n                  fn: function(ref) {\n                    var item = ref.item\n                    return [\n                      _c(\"span\", [\n                        _vm._v(\n                          \"\\n                    \" +\n                            _vm._s(item.upload_date.substring(0, 10)) +\n                            \"\\n                \"\n                        )\n                      ])\n                    ]\n                  }\n                },\n                {\n                  key: \"item.u3\",\n                  fn: function(ref) {\n                    var item = ref.item\n                    return [\n                      _c(\"span\", { attrs: { \"background-color\": \"primary\" } }, [\n                        _vm._v(\n                          \"\\n                    \" +\n                            _vm._s(\n                              _vm.AppStore.formatAsCurrency(parseFloat(item.u3))\n                            ) +\n                            \"\\n                \"\n                        )\n                      ])\n                    ]\n                  }\n                },\n                {\n                  key: \"item.customer_name\",\n                  fn: function(ref) {\n                    var item = ref.item\n                    return [\n                      _c(\"span\", { staticClass: \"text-caption\" }, [\n                        _vm._v(\n                          \"\\n                    \" +\n                            _vm._s(item.customer_name) +\n                            \"\\n                \"\n                        )\n                      ])\n                    ]\n                  }\n                },\n                {\n                  key: \"item.description\",\n                  fn: function(ref) {\n                    var item = ref.item\n                    return [\n                      _c(\"span\", { staticClass: \"text-caption\" }, [\n                        _vm._v(\n                          \"\\n                    \" +\n                            _vm._s(item.description) +\n                            \"\\n                \"\n                        )\n                      ])\n                    ]\n                  }\n                }\n              ],\n              null,\n              true\n            )\n          })\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Transactions.vue?vue&type=template&id=2d5bc858&\"\nimport script from \"./Transactions.vue?vue&type=script&lang=js&\"\nexport * from \"./Transactions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\KALOY\\\\PROJECTS\\\\DSG\\\\DSG_DEV\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('2d5bc858')) {\n      api.createRecord('2d5bc858', component.options)\n    } else {\n      api.reload('2d5bc858', component.options)\n    }\n    module.hot.accept(\"./Transactions.vue?vue&type=template&id=2d5bc858&\", function () {\n      api.rerender('2d5bc858', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/pages/Principals/common/Transactions.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Transactions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Transactions.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Transactions.vue?vue&type=template&id=2d5bc858&\""],"sourceRoot":""}