(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{41:function(t,e,a){"use strict";a.r(e);var n={props:["date","searchKey"],data:function(){return{grandTotal:0}},computed:{selectedPrincipalCode:function(){return this.PrincipalsStore.state.selectedPrincipalCode},tblHeader:function(){return this[this.selectedPrincipalCode].state.transactionsTableHeader},totalAmount:function(){var t=0;return this.PrincipalsStore.state.transactions.length>0&&this.PrincipalsStore.state.transactions.forEach((function(e){t+=parseFloat(e.u3)})),t}},methods:{exportToExcel:function(){var t=[[this.date.toString(),this.PrincipalsStore.state.transactions]],e=this.PrincipalsStore.getHeaderAndFormat("transactionsTableHeader");this.PrincipalsStore.exportToExcel(e.header,this.PrincipalsStore.generatedDataSubset(t,e.format),[7,8],"".concat(this.selectedPrincipalCode,"_Transactions"))}},created:function(){this.PrincipalsStore.initTransactions(this.selectedPrincipalCode,this.date),this.PrincipalsStore.initInvoicesGrandTotal()},mounted:function(){}},s=a(0),r=Object(s.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-sheet",[a("v-toolbar",{staticClass:"elevation-0",attrs:{dense:""}},[a("v-chip",{staticClass:"mr-1",attrs:{color:"primary",labelx:"",small:""}},[a("em",[t._v("Total Amount: ")]),t._v("\n            "+t._s(t.AppStore.formatAsCurrency(t.totalAmount))+"\n        ")]),t._v(" "),a("v-chip",{staticClass:"mr-1",attrs:{color:"primary",labelx:"",small:""}},[a("em",[t._v("Grand Total: ")]),t._v("\n            "+t._s(t.AppStore.formatAsCurrency(t.PrincipalsStore.state.invoicesGrandTotal))+"\n        ")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"success",icon:"",title:"Export to Excel",disabled:null!=t.searchKey&&""!=t.searchKey||t.PrincipalsStore.state.transactions.length<1},on:{click:function(e){return t.exportToExcel()}}},[a("v-icon",[t._v("mdi-file-excel")])],1)],1),t._v(" "),a("v-sheet",[a("v-data-table",{staticClass:"elevation-1",attrs:{items:t.PrincipalsStore.state.transactions,headers:t.tblHeader,dense:"",search:t.searchKey,id:"transactions",loading:t.PrincipalsStore.state.isInitTransactions},scopedSlots:t._u([{key:"item.upload_date",fn:function(e){var n=e.item;return[a("span",[t._v("\n                    "+t._s(n.upload_date.substring(0,10))+"\n                ")])]}},{key:"item.u3",fn:function(e){var n=e.item;return[a("span",[t._v("\n                    "+t._s(t.AppStore.formatAsCurrency(parseFloat(n.u3)))+"\n                ")])]}},{key:"item.customer_name",fn:function(e){var n=e.item;return[a("span",{staticClass:"text-caption"},[t._v("\n                    "+t._s(n.customer_name)+"\n                ")])]}},{key:"item.description",fn:function(e){var n=e.item;return[a("span",{staticClass:"text-caption"},[t._v("\n                    "+t._s(n.description)+"\n                ")])]}}],null,!0)})],1)],1)}),[],!1,null,null,null);e.default=r.exports}}]);