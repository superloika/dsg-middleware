{"version":3,"sources":["webpack:///resources/js/pages/Principals/common/DevChat.vue","webpack:///./resources/js/pages/Principals/common/DevChat.vue?dc53","webpack:///./resources/js/pages/Principals/common/DevChat.vue","webpack:///./resources/js/pages/Principals/common/DevChat.vue?e633","webpack:///./resources/js/pages/Principals/common/DevChat.vue?3814"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA,MADA,kBACA;AACA;AACA,eADA;AAEA,kBAFA;AAGA;AAHA;AAKA,GAPA;AASA;AACA,WADA,qBACA;AACA;AACA;AAHA,GATA;AAeA;AACA,iBADA,2BACA;AAAA;;AACA;AACA;AACA,OAFA;AAGA,KALA;AAOA,eAPA,uBAOA,OAPA,EAOA;AAAA;;AACA;AACA,wBADA;AAEA;AAFA;AAIA;AACA;AACA;AACA,OAHA;AAIA;AAhBA,GAfA;AAkCA;AACA;AACA;AACA;AACA;AAEA,SAxCA,qBAwCA;AACA;AACA,GA1CA;AA4CA,SA5CA,qBA4CA;AAAA;;AACA;AAEA,4BACA,MADA,CACA,aADA,EACA;AACA;AACA,KAHA,EAHA,CAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjFA,G;;;;;;;;;;;;ACrDA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,sBAAsB;AAC/B;AACA,4BAA4B,8BAA8B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,yBAAyB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC7GA;AAAA;AAAA;AAAA;AAAsF;AAC3B;AACL;;;AAGtD;AACmG;AACnG,gBAAgB,2GAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAAmM,CAAgB,mPAAG,EAAC,C;;;;;;;;;;;;ACAvN;AAAA;AAAA;AAAA;AAAA;AAAA","file":"34.js","sourcesContent":["<template>\n    <div>\n        <v-container>\n            <div>\n                <v-text-field\n                    v-model=\"newMessage\"\n                    @keyup.enter=\"sendMessage(newMessage)\"\n                    rounded\n                    solo\n                    placeholder=\"Enter message here\"\n                ></v-text-field>\n            </div>\n        </v-container>\n\n        <v-sheet class=\"pa-4\">\n            <div\n                v-for=\"(message, i) in messages\"\n                :key=\"i\"\n                class=\"mb-1\"\n            >\n                <div\n                    :class=\"\n                        AuthUser.username==message.username\n                        ? 'd-flex align-end flex-column'\n                        : 'd-flex align-start flex-column'\n                    \"\n                >\n                    <v-card\n                        :class=\"AuthUser.username==message.username\n                            ? 'light-blue darken-2' : 'secondary'\n                        \"\n                        dark\n                    >\n                        <v-list-item>\n                            <v-list-item-content>\n                                <v-list-item-title>\n                                    {{ message.message }}\n                                </v-list-item-title>\n                                <v-list-item-subtitle>\n                                    <em class=\"caption\">\n                                        {{ message.created_at }}\n                                    </em>\n                                </v-list-item-subtitle>\n                            </v-list-item-content>\n                        </v-list-item>\n                    </v-card>\n                </div>\n            </div>\n        </v-sheet>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            users: [],\n            messages: [],\n            newMessage: \"\"\n        };\n    },\n\n    computed: {\n        channel() {\n            return this.PrincipalsStore.state.selectedPrincipalCode;\n        }\n    },\n\n    methods: {\n        fetchMessages() {\n            axios.get(`/devchat/fetch-messages?channel=${this.channel}`).then(response => {\n                this.messages = response.data;\n            });\n        },\n\n        sendMessage(message) {\n            const payload = {\n                message: message,\n                channel: this.channel,\n            };\n            axios.post(\"/devchat/send-message\", payload).then(response => {\n                this.newMessage = \"\";\n                console.log(response.data);\n            });\n        }\n    },\n\n    // watch: {\n    //     messages() {\n    //         console.log(this.messages);\n    //     }\n    // },\n\n    mounted() {\n        console.log(\"DevChat page mounted.\");\n    },\n\n    created() {\n        this.fetchMessages();\n\n        Echo.join(this.channel)\n            .listen(\"MessageSent\", event => {\n                this.messages.unshift(event.message);\n            });\n        // Echo.join(\"devchat\")\n        //     .here(users => {\n        //         this.users = users;\n        //     })\n        //     .joining(user => {\n        //         this.users.push(user);\n        //     })\n        //     .leaving(user => {\n        //         this.users = this.users.filter(u => u.id !== user.id);\n        //     })\n        //     .listenForWhisper(\"typing\", ({ id, name }) => {\n        //         this.users.forEach((user, index) => {\n        //             if (user.id === id) {\n        //                 user.typing = true;\n        //                 this.$set(this.users, index, user);\n        //             }\n        //         });\n        //     })\n        //     .listen(\"MessageSent\", event => {\n        //         this.messages.unshift(event.message);\n\n        //         // this.fetchMessages();\n\n        //         this.users.forEach((user, index) => {\n        //             if (user.id === event.user.id) {\n        //                 user.typing = false;\n        //                 this.$set(this.users, index, user);\n        //             }\n        //         });\n        //     });\n    }\n};\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\"v-container\", [\n        _c(\n          \"div\",\n          [\n            _c(\"v-text-field\", {\n              attrs: {\n                rounded: \"\",\n                solo: \"\",\n                placeholder: \"Enter message here\"\n              },\n              on: {\n                keyup: function($event) {\n                  if (\n                    !$event.type.indexOf(\"key\") &&\n                    _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                  ) {\n                    return null\n                  }\n                  return _vm.sendMessage(_vm.newMessage)\n                }\n              },\n              model: {\n                value: _vm.newMessage,\n                callback: function($$v) {\n                  _vm.newMessage = $$v\n                },\n                expression: \"newMessage\"\n              }\n            })\n          ],\n          1\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"v-sheet\",\n        { staticClass: \"pa-4\" },\n        _vm._l(_vm.messages, function(message, i) {\n          return _c(\"div\", { key: i, staticClass: \"mb-1\" }, [\n            _c(\n              \"div\",\n              {\n                class:\n                  _vm.AuthUser.username == message.username\n                    ? \"d-flex align-end flex-column\"\n                    : \"d-flex align-start flex-column\"\n              },\n              [\n                _c(\n                  \"v-card\",\n                  {\n                    class:\n                      _vm.AuthUser.username == message.username\n                        ? \"light-blue darken-2\"\n                        : \"secondary\",\n                    attrs: { dark: \"\" }\n                  },\n                  [\n                    _c(\n                      \"v-list-item\",\n                      [\n                        _c(\n                          \"v-list-item-content\",\n                          [\n                            _c(\"v-list-item-title\", [\n                              _vm._v(\n                                \"\\n                                \" +\n                                  _vm._s(message.message) +\n                                  \"\\n                            \"\n                              )\n                            ]),\n                            _vm._v(\" \"),\n                            _c(\"v-list-item-subtitle\", [\n                              _c(\"em\", { staticClass: \"caption\" }, [\n                                _vm._v(\n                                  \"\\n                                    \" +\n                                    _vm._s(message.created_at) +\n                                    \"\\n                                \"\n                                )\n                              ])\n                            ])\n                          ],\n                          1\n                        )\n                      ],\n                      1\n                    )\n                  ],\n                  1\n                )\n              ],\n              1\n            )\n          ])\n        }),\n        0\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./DevChat.vue?vue&type=template&id=ca20914c&\"\nimport script from \"./DevChat.vue?vue&type=script&lang=js&\"\nexport * from \"./DevChat.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\KALOY\\\\PROJECTS\\\\DSG\\\\DSG_DEV\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('ca20914c')) {\n      api.createRecord('ca20914c', component.options)\n    } else {\n      api.reload('ca20914c', component.options)\n    }\n    module.hot.accept(\"./DevChat.vue?vue&type=template&id=ca20914c&\", function () {\n      api.rerender('ca20914c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/pages/Principals/common/DevChat.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DevChat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DevChat.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DevChat.vue?vue&type=template&id=ca20914c&\""],"sourceRoot":""}