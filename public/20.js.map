{"version":3,"sources":["webpack:///resources/js/pages/Principals/common/DevChat.vue","webpack:///./resources/js/pages/Principals/common/DevChat.vue?dc53","webpack:///./resources/js/pages/Principals/common/DevChat.vue","webpack:///./resources/js/pages/Principals/common/DevChat.vue?e633","webpack:///./resources/js/pages/Principals/common/DevChat.vue?3814"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA,MADA,kBACA;AACA;AACA,eADA;AAEA;AACA;AAHA;AAKA,GAPA;AASA;AACA,WADA,qBACA;AACA;AACA;AACA,KAJA;AAKA,eALA,yBAKA;AACA;AACA;AAPA,GATA;AAmBA;AACA,iBADA,2BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA;AACA;AACA,iBAFA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,KALA;AAOA,eAPA,uBAOA,OAPA,EAOA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,uBADA,GACA;AACA,kCADA;AAEA;AAFA,iBADA;AAAA;AAAA,uBAKA;AACA;AACA;AACA,iBAHA,CALA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAhBA,GAnBA;AAsCA,UACA;AACA;AACA;AAHA,GAtCA;AA4CA,SA5CA,qBA4CA;AACA;AACA;AACA,GA/CA;AAiDA,SAjDA,qBAiDA;AACA;AACA;AAnDA,G;;;;;;;;;;;;ACnGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS,sBAAsB,EAAE;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,0BAA0B;AAC1B,iBAAiB;AACjB;AACA,oCAAoC,8BAA8B;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA,2CAA2C,wBAAwB;AACnE;AACA;AACA;AACA;AACA;AACA,yCAAyC,SAAS,sBAAsB,EAAE;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,yBAAyB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,sBAAsB;AACjE,4CAA4C,yBAAyB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS,sBAAsB,EAAE;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,kBAAkB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChMA;AAAA;AAAA;AAAA;AAAsF;AAC3B;AACL;;;AAGtD;AACmG;AACnG,gBAAgB,2GAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAAmM,CAAgB,mPAAG,EAAC,C;;;;;;;;;;;;ACAvN;AAAA;AAAA;AAAA;AAAA;AAAA","file":"20.js","sourcesContent":["<template>\n    <div @mousedown=\"DevChatStore.state.unreadMsgCount=0\">\n        <v-row>\n            <v-col cols=\"12\" md=\"8\">\n                <v-textarea\n                    solo\n                    v-model=\"newMessage\"\n                    @keyup.enter=\"sendMessage(newMessage)\"\n                    label=\"Type your message here (press Enter to send)\"\n                    auto-grow\n                    rows=\"2\"\n                ></v-textarea>\n\n                <v-card style=\"overflow-y: scroll;max-height: 400px;\" flat>\n                    <div\n                        v-for=\"(message, i) in DevChatStore.state.messages\"\n                        :key=\"i\"\n                        class=\"mb-1\"\n                    >\n                        <div\n                            :class=\"\n                                AuthUser.username==message.username\n                                ? 'd-flex align-end flex-column'\n                                : 'd-flex align-start flex-column'\n                            \"\n                        >\n                            <div\n                                :class=\"AuthUser.username==message.username\n                                    ? 'light-blue darken-2' : 'secondary'\n                                \"\n                                class=\"rounded-lg\"\n                                style=\"max-width:700px;\"\n                            >\n                                <div class=\"pl-4 pr-6 pt-4 pb-2 white--text\">\n                                    <div class=\"d-flex\">\n                                        <div>\n                                            <v-icon color=\"\" dark>mdi-account</v-icon>\n                                        </div>\n                                        <div class=\"pt-1 font-weight-bold caption\">\n                                            {{ message.name }}\n                                        </div>\n                                    </div>\n                                    <div class=\"caption\">\n                                        {{ message.message }}\n                                    </div>\n                                    <div class=\"mt-2\">\n                                        <em class=\"caption\">\n                                            {{ message.created_at }}\n                                        </em>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </v-card>\n            </v-col>\n\n            <v-col cols=\"12\" md=\"4\">\n                <v-card>\n                    <v-card-text>\n                        <div\n                            v-for=\"(u) in onlineUsers\"\n                            :key=\"u.username\"\n                        >\n                            <span\n                                :class=\"u.id==AuthUser.id ? 'info--text' : 'primary--text'\"\n                            >\n                                {{ u.name }} (<em>{{ u.username }}</em>)\n                            </span>\n                        </div>\n                    </v-card-text>\n\n                    <!-- <v-list rounded>\n                        <v-subheader>Online Users</v-subheader>\n                        <v-list-item-group>\n                            <v-list-item\n                                v-for=\"(u) in onlineUsers\"\n                                :key=\"u.username\"\n                                dense\n                            >\n                                <v-list-item-content>\n                                    <v-list-item-title\n                                        :class=\"u.id==AuthUser.id ? 'info--text' : 'primary--text'\"\n                                    >\n                                    <span>\n                                        {{ u.name }} - <em>{{ u.username }}</em>\n                                    </span>\n                                    </v-list-item-title>\n                                </v-list-item-content>\n                            </v-list-item>\n                        </v-list-item-group>\n                    </v-list> -->\n                </v-card>\n            </v-col>\n        </v-row>\n    </div>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            users: [],\n            // messages: [],\n            newMessage: \"\",\n        };\n    },\n\n    computed: {\n        channel() {\n            // return this.PrincipalsStore.state.selectedPrincipalCode;\n            return this.DevChatStore.state.groupChannel;\n        },\n        onlineUsers() {\n            return this.DevChatStore.state.onlineUsers;\n        }\n    },\n\n    methods: {\n        async fetchMessages() {\n            await axios.get(`/devchat/fetch-messages?channel=${this.channel}`).then(response => {\n                this.DevChatStore.state.messages = response.data;\n            });\n        },\n\n        async sendMessage(message) {\n            const payload = {\n                message: message,\n                channel: this.channel,\n            };\n            await axios.post(\"/devchat/send-message\", payload).then(response => {\n                this.newMessage = \"\";\n                console.log(response.data);\n            });\n        }\n    },\n\n    watch: {\n        // subscribedUsers() {\n        //     console.log(this.subscribedUsers);\n        // }\n    },\n\n    mounted() {\n        console.log(\"DevChat page mounted.\");\n        this.DevChatStore.state.unreadMsgCount = 0;\n    },\n\n    created() {\n        this.fetchMessages();\n    }\n};\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      on: {\n        mousedown: function($event) {\n          _vm.DevChatStore.state.unreadMsgCount = 0\n        }\n      }\n    },\n    [\n      _c(\n        \"v-row\",\n        [\n          _c(\n            \"v-col\",\n            { attrs: { cols: \"12\", md: \"8\" } },\n            [\n              _c(\"v-textarea\", {\n                attrs: {\n                  solo: \"\",\n                  label: \"Type your message here (press Enter to send)\",\n                  \"auto-grow\": \"\",\n                  rows: \"2\"\n                },\n                on: {\n                  keyup: function($event) {\n                    if (\n                      !$event.type.indexOf(\"key\") &&\n                      _vm._k($event.keyCode, \"enter\", 13, $event.key, \"Enter\")\n                    ) {\n                      return null\n                    }\n                    return _vm.sendMessage(_vm.newMessage)\n                  }\n                },\n                model: {\n                  value: _vm.newMessage,\n                  callback: function($$v) {\n                    _vm.newMessage = $$v\n                  },\n                  expression: \"newMessage\"\n                }\n              }),\n              _vm._v(\" \"),\n              _c(\n                \"v-card\",\n                {\n                  staticStyle: {\n                    \"overflow-y\": \"scroll\",\n                    \"max-height\": \"400px\"\n                  },\n                  attrs: { flat: \"\" }\n                },\n                _vm._l(_vm.DevChatStore.state.messages, function(message, i) {\n                  return _c(\"div\", { key: i, staticClass: \"mb-1\" }, [\n                    _c(\n                      \"div\",\n                      {\n                        class:\n                          _vm.AuthUser.username == message.username\n                            ? \"d-flex align-end flex-column\"\n                            : \"d-flex align-start flex-column\"\n                      },\n                      [\n                        _c(\n                          \"div\",\n                          {\n                            staticClass: \"rounded-lg\",\n                            class:\n                              _vm.AuthUser.username == message.username\n                                ? \"light-blue darken-2\"\n                                : \"secondary\",\n                            staticStyle: { \"max-width\": \"700px\" }\n                          },\n                          [\n                            _c(\n                              \"div\",\n                              {\n                                staticClass: \"pl-4 pr-6 pt-4 pb-2 white--text\"\n                              },\n                              [\n                                _c(\"div\", { staticClass: \"d-flex\" }, [\n                                  _c(\n                                    \"div\",\n                                    [\n                                      _c(\n                                        \"v-icon\",\n                                        { attrs: { color: \"\", dark: \"\" } },\n                                        [_vm._v(\"mdi-account\")]\n                                      )\n                                    ],\n                                    1\n                                  ),\n                                  _vm._v(\" \"),\n                                  _c(\n                                    \"div\",\n                                    {\n                                      staticClass:\n                                        \"pt-1 font-weight-bold caption\"\n                                    },\n                                    [\n                                      _vm._v(\n                                        \"\\n                                        \" +\n                                          _vm._s(message.name) +\n                                          \"\\n                                    \"\n                                      )\n                                    ]\n                                  )\n                                ]),\n                                _vm._v(\" \"),\n                                _c(\"div\", { staticClass: \"caption\" }, [\n                                  _vm._v(\n                                    \"\\n                                    \" +\n                                      _vm._s(message.message) +\n                                      \"\\n                                \"\n                                  )\n                                ]),\n                                _vm._v(\" \"),\n                                _c(\"div\", { staticClass: \"mt-2\" }, [\n                                  _c(\"em\", { staticClass: \"caption\" }, [\n                                    _vm._v(\n                                      \"\\n                                        \" +\n                                        _vm._s(message.created_at) +\n                                        \"\\n                                    \"\n                                    )\n                                  ])\n                                ])\n                              ]\n                            )\n                          ]\n                        )\n                      ]\n                    )\n                  ])\n                }),\n                0\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-col\",\n            { attrs: { cols: \"12\", md: \"4\" } },\n            [\n              _c(\n                \"v-card\",\n                [\n                  _c(\n                    \"v-card-text\",\n                    _vm._l(_vm.onlineUsers, function(u) {\n                      return _c(\"div\", { key: u.username }, [\n                        _c(\n                          \"span\",\n                          {\n                            class:\n                              u.id == _vm.AuthUser.id\n                                ? \"info--text\"\n                                : \"primary--text\"\n                          },\n                          [\n                            _vm._v(\n                              \"\\n                            \" +\n                                _vm._s(u.name) +\n                                \" (\"\n                            ),\n                            _c(\"em\", [_vm._v(_vm._s(u.username))]),\n                            _vm._v(\")\\n                        \")\n                          ]\n                        )\n                      ])\n                    }),\n                    0\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./DevChat.vue?vue&type=template&id=ca20914c&\"\nimport script from \"./DevChat.vue?vue&type=script&lang=js&\"\nexport * from \"./DevChat.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\laragon\\\\www\\\\DSGPM_DEV\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('ca20914c')) {\n      api.createRecord('ca20914c', component.options)\n    } else {\n      api.reload('ca20914c', component.options)\n    }\n    module.hot.accept(\"./DevChat.vue?vue&type=template&id=ca20914c&\", function () {\n      api.rerender('ca20914c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/pages/Principals/common/DevChat.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DevChat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DevChat.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DevChat.vue?vue&type=template&id=ca20914c&\""],"sourceRoot":""}