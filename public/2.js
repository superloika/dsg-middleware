(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{29:function(t,e,n){"use strict";n.r(e);function r(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s={components:{GeneratedTableWrapper:function(){return n.e(10).then(n.bind(null,31))},InvoicesImport:function(){return n.e(16).then(n.bind(null,32))},MissingInMaster:function(){return n.e(18).then(n.bind(null,36))},Settings:function(){return n.e(0).then(n.bind(null,39))},Pendings:function(){return n.e(19).then(n.bind(null,37))},ConfirmExport:function(){return n.e(14).then(n.bind(null,26))}},data:function(){return{searchKey:"",dlgMissingCustomers:null,dlgMissingItems:null,dlgPendings:null}},computed:{generatedData:function(){return this.PrincipalsStore.state.currentGeneratedData},lineCount:function(){var t=0;return this.generatedData.forEach((function(e){t+=e[1].length})),t},itemsNotFoundCount:function(){var t=0;return this.generatedData.forEach((function(e){var n=e[1].filter((function(t){return 1==t.item_notfound}));t+=n.length})),t},customersNotFoundCount:function(){var t=0;return this.generatedData.forEach((function(e){var n=e[1].filter((function(t){return 1==t.customer_notfound}));t+=n.length})),t},selectedPrincipalCode:function(){return this.PrincipalsStore.state.selectedPrincipalCode},missingCustomers:function(){try{var t=[];this.PrincipalsStore.state.currentGeneratedData.forEach((function(e){var n=[];e[1].forEach((function(t){1==t.customer_notfound&&n.push({customer_code:t.customer_code,missing_customer_name:t.missing_customer_name})})),n.length>0&&t.push.apply(t,n)}));for(var e=[],n=[],r=0;r<t.length;r++)e[t[r].customer_code]||(n.push(t[r]),e[t[r].customer_code]=1);return n}catch(t){return console.log("missingCustomers() - ERR:",t),[]}},distinctItemCodesNA:function(){try{var t=[];return this.PrincipalsStore.state.currentGeneratedData.forEach((function(e){var n,r=[];(e[1].forEach((function(t){1==t.item_notfound&&r.push(t.item_code)})),r.length>0)&&(n=t).push.apply(n,r)})),t=r(new Set(t))}catch(t){return console.log("initDistinctItemCodesNA() - ERR:",t),[]}},searchKeyLength:function(){try{return this.searchKey.length}catch(t){return 0}},myStore:function(){return this[this.selectedPrincipalCode]}},methods:{missingInMaster:function(t){try{var e=[];this.PrincipalsStore.state.currentGeneratedData.forEach((function(n){var r=[];n[1].forEach((function(e){"customer"==t?1==e.customer_notfound&&r.push({customer_code:e.customer_code,missing_customer_name:e.missing_customer_name}):"item"==t&&1==e.item_notfound&&r.push({item_code:e.item_code,missing_item_name:e.missing_item_name})})),r.length>0&&e.push.apply(e,r)}));for(var n=[],r=[],i=0;i<e.length;i++)n[e[i][t+"_code"]]||(r.push(e[i]),n[e[i][t+"_code"]]=1);return r}catch(t){return console.log("missingInMaster() - ERR:",t),[]}}},created:function(){this.PrincipalsStore.initCurrentGeneratedData(this.selectedPrincipalCode)},mounted:function(){console.log("Generated component mounted")}},o=n(0),a=Object(o.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("v-card",{staticClass:"elevation-0",attrs:{color:""}},[n("v-card-title",{staticClass:"pa-0"},[n("v-app-bar",{attrs:{elevation:"0",colorx:"white"}},[n("v-toolbar-title",[t._v("\n                    Templated Data\n                    "),t.lineCount>0?n("div",[n("v-chip",{staticClass:"px-1 primary--text",attrs:{small:"",outlinedx:"",label:"",color:"transparent"}},[t._v("\n                            "+t._s(t.lineCount)+" total line/s\n                        ")]),t._v(" "),t.customersNotFoundCount>0||t.itemsNotFoundCount>0?n("v-chip",{staticClass:"px-1 warning--text",attrs:{small:"",outlinedx:"",label:"",color:"transparent"}},[t._v("\n                            "+t._s(t.customersNotFoundCount>t.itemsNotFoundCount?t.customersNotFoundCount:t.itemsNotFoundCount)+" total warning/s\n                        ")]):t._e()],1):t._e()]),t._v(" "),n("v-spacer"),t._v(" "),n("v-text-field",{staticClass:"mr-3",staticStyle:{"max-width":"200px"},attrs:{label:"Search",title:"Search","hide-details":"",dense:"",flat:"",rounded:"",clearable:"","solo-inverted":"",disabled:t.PrincipalsStore.state.currentGeneratedData.length<1},model:{value:t.PrincipalsStore.state.currentGeneratedDataSearchKey,callback:function(e){t.$set(t.PrincipalsStore.state,"currentGeneratedDataSearchKey",e)},expression:"PrincipalsStore.state.currentGeneratedDataSearchKey"}}),t._v(" "),n("v-btn",{attrs:{title:"Unmapped Customer/s",icon:"",dense:"",rounded:"",depressed:"",color:"warning",disabled:t.missingInMaster("customer").length<1},on:{click:function(e){e.stopPropagation(),t.dlgMissingCustomers=!0}}},[n("v-icon",[t._v("mdi-account-multiple")])],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"900",scrollable:""},model:{value:t.dlgMissingCustomers,callback:function(e){t.dlgMissingCustomers=e},expression:"dlgMissingCustomers"}},[n("MissingInMaster",{attrs:{id:"customer",type:"customer",title:"Unmapped Customer/s",missingInMaster:t.missingInMaster("customer")}})],1),t._v(" "),n("v-btn",{attrs:{title:"Unmapped Item/s",icon:"",dense:"",rounded:"",depressed:"",color:"warning",disabled:t.missingInMaster("item").length<1},on:{click:function(e){e.stopPropagation(),t.dlgMissingItems=!0}}},[n("v-icon",[t._v("mdi-cube")])],1),t._v(" "),n("v-dialog",{attrs:{persistentx:"","max-width":"900",scrollable:""},model:{value:t.dlgMissingItems,callback:function(e){t.dlgMissingItems=e},expression:"dlgMissingItems"}},[n("MissingInMaster",{attrs:{id:"item",type:"item",title:"Unmapped Item/s",missingInMaster:t.missingInMaster("item")}})],1),t._v(" "),n("v-btn",{attrs:{title:"Export to Excel",icon:"",dense:"",rounded:"",outlinedx:"",depressed:"",color:"success",disabled:t.lineCount<1||t.searchKeyLength>0||t.itemsNotFoundCount+t.customersNotFoundCount>=t.lineCount},on:{click:function(e){e.stopPropagation(),t.PrincipalsStore.state.confirmExportDialogOpen=!0}}},[n("v-icon",[t._v("mdi-file-excel")])],1),t._v(" "),n("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:t.PrincipalsStore.state.confirmExportDialogOpen,callback:function(e){t.$set(t.PrincipalsStore.state,"confirmExportDialogOpen",e)},expression:"PrincipalsStore.state.confirmExportDialogOpen"}},[n("ConfirmExport",{attrs:{id:"confirm_export_"+t.PrincipalsStore.state.selectedPrincipalCode}})],1)],1)],1),t._v(" "),n("v-card-text",{staticClass:"mx-0 px-0"},[n("div",{},[t.generatedData.length<1?n("div",{staticClass:"d-flex justify-center mt-3"},[t.PrincipalsStore.state.isGeneratingData?n("v-sheet",[n("v-progress-circular",{attrs:{size:70,width:7,color:"accent",indeterminate:""}})],1):n("v-chip",{attrs:{color:"accent",small:""}},[t._v("\n                        No available data to display\n                    ")])],1):n("GeneratedTableWrapper",{attrs:{generatedData:t.generatedData}})],1)])],1)],1)}),[],!1,null,"5484f5ca",null);e.default=a.exports}}]);