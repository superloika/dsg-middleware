(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{D3fE:function(e,t,n){"use strict";n.r(t);var a=n("nYzg"),r={props:["lineCount","warningsCount"],components:{MissingInMaster:function(){return n.e(27).then(n.bind(null,"ccvn"))},ConfirmExport:function(){return n.e(20).then(n.bind(null,"iwX0"))}},data:function(){return{dlgMissingCustomers:null,dlgMissingItems:null,dlgMissingSalesmen:null,datePickerShown:!1}},computed:{generatedData:function(){return a.default.state.currentGeneratedData},selectedPrincipalCode:function(){return a.default.state.selectedPrincipalCode},searchKeyLength:function(){try{return a.default.state.currentGeneratedDataSearchKey.length}catch(e){return 0}},selPrincipalStore:function(){return this[this.PrincipalsStore.state.selectedPrincipalCode]},dateRangeText:function(){return this.PrincipalsStore.state.posting_date_range.join(" ~ ")}},methods:{missingInMaster:function(e){try{var t=[];this.generatedData.length>0&&this.generatedData[0].output_template.forEach((function(n){var a=[];n[1].forEach((function(t){"customer"==e?1==t.customer_notfound&&a.push({customer_code:t.customer_code,missing_customer_name:t.missing_customer_name}):"item"==e?1==t.item_notfound&&a.push({item_code:t.item_code,missing_item_name:t.missing_item_name}):"salesman"==e&&1==t.salesman_notfound&&a.push({real_salesman_code:t.alturas_sm_code,salesman_code:t.missing_salesman_name,missing_salesman_name:t.missing_salesman_name})})),a.length>0&&t.push.apply(t,a)}));for(var n=[],a=[],r=0;r<t.length;r++)n[t[r][e+"_code"]]||(a.push(t[r]),n[t[r][e+"_code"]]=1);return a}catch(e){return console.log("missingInMaster() - ERR:",e),[]}},refresh:function(){a.default.initCurrentGeneratedData(this.selectedPrincipalCode,null),a.default.state.currentGeneratedDataSearchKey=""}},mounted:function(){console.log("GeneratedActions component mounted")}},i=n("KHd+"),s=Object(i.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-text",[n("v-row",[n("v-col",[n("v-text-field",{staticStyle:{"max-width":"500px","min-width":"250px"},attrs:{label:"Posting/Shipment Date","hide-details":"",readonly:"",dense:"",outlined:"",rounded:"",disabled:e.PrincipalsStore.state.isGeneratingData},on:{click:function(t){t.stopPropagation(),e.datePickerShown=!0}},model:{value:e.dateRangeText,callback:function(t){e.dateRangeText=t},expression:"dateRangeText"}}),e._v(" "),n("v-dialog",{ref:"datePicker",attrs:{"return-value":e.PrincipalsStore.state.posting_date_range,width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.PrincipalsStore.state,"posting_date_range",t)},"update:return-value":function(t){return e.$set(e.PrincipalsStore.state,"posting_date_range",t)}},model:{value:e.datePickerShown,callback:function(t){e.datePickerShown=t},expression:"datePickerShown"}},[n("v-date-picker",{attrs:{scrollable:"",range:""},model:{value:e.PrincipalsStore.state.posting_date_range,callback:function(t){e.$set(e.PrincipalsStore.state,"posting_date_range",t)},expression:"PrincipalsStore.state.posting_date_range"}},[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.datePickerShown=!1}}},[e._v("\n                            Cancel\n                        ")]),e._v(" "),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.datePicker.save(e.PrincipalsStore.state.posting_date_range)}}},[e._v("\n                            Ok\n                        ")])],1)],1)],1),e._v(" "),n("v-col",[n("v-select",{staticStyle:{"max-width":"500px","min-width":"200px"},attrs:{items:e.selPrincipalStore.state.generatedDataHistoryFilters[0],label:"Group By","item-text":"text","item-value":"value",outlined:"",rounded:"","hide-details":"",dense:"",disabled:e.PrincipalsStore.state.isGeneratingData},model:{value:e.PrincipalsStore.state.selectedGroupBy,callback:function(t){e.$set(e.PrincipalsStore.state,"selectedGroupBy",t)},expression:"PrincipalsStore.state.selectedGroupBy"}})],1),e._v(" "),n("v-col",[n("v-btn",{attrs:{title:"Generate Templated",dense:"",rounded:"",outlined:"",loading:e.PrincipalsStore.state.isGeneratingData,color:"primary"},on:{click:function(t){return e.refresh()}}},[e._v("\n                    Generate\n                ")])],1),e._v(" "),n("v-col",[n("v-btn",{attrs:{title:"Export to Excel",dense:"",rounded:"",color:"primary",block:"",disabled:e.lineCount<1||e.searchKeyLength>0||e.warningsCount>=e.lineCount||e.PrincipalsStore.state.isGeneratingData},on:{click:function(t){t.stopPropagation(),e.PrincipalsStore.state.confirmExportDialogOpen=!0}}},[n("v-icon",{attrs:{left:"",size:"25"}},[e._v("mdi-file-excel")]),e._v("\n                    Export("+e._s(e.lineCount-e.warningsCount)+")\n                ")],1)],1)],1)],1),e._v(" "),n("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:e.PrincipalsStore.state.confirmExportDialogOpen,callback:function(t){e.$set(e.PrincipalsStore.state,"confirmExportDialogOpen",t)},expression:"PrincipalsStore.state.confirmExportDialogOpen"}},[n("ConfirmExport",{key:"confirm_export_"+e.PrincipalsStore.state.selectedPrincipalCode})],1)],1)}),[],!1,null,null,null);t.default=s.exports}}]);