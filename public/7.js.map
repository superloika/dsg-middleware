{"version":3,"sources":["webpack:///resources/js/pages/Principals/common/BRUpload.vue","webpack:///./resources/js/pages/Principals/common/BRUpload.vue?d04e","webpack:///./resources/js/pages/Principals/common/BRUpload.vue?090a","webpack:///./resources/js/pages/Principals/common/BRUpload.vue?51d1","webpack:///./resources/js/pages/Principals/common/BRUpload.vue","webpack:///./resources/js/pages/Principals/common/BRUpload.vue?f036","webpack:///./resources/js/pages/Principals/common/BRUpload.vue?4eaf","webpack:///./resources/js/pages/Principals/common/BRUpload.vue?eab4"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwSA;AACA,MADA,kBACA;AACA;AACA,eADA;AAEA,uBAFA;AAGA,2BAHA;AAIA;AAJA;AAMA,GARA;AAUA;AACA,aADA,uBACA;AACA,cACA;AACA,yBADA;AAEA;AAFA,OADA,EAKA;AACA,+BADA;AAEA;AAFA,OALA,EASA;AACA,uBADA;AAEA;AAFA,OATA,EAaA;AACA,uCADA;AAEA;AAFA,OAbA,EAiBA;AACA,wBADA;AAEA;AAFA,OAjBA,EAqBA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA;AAFA,OAzBA,EA6BA;AACA,+BADA;AAEA;AAFA,OA7BA,EAiCA;AACA,mCADA;AAEA;AAFA,OAjCA;AAsCA,KAxCA;AAyCA;AACA;AACA;AACA,kBA5CA,4BA4CA;AACA;AAAA;AAAA;AACA,KA9CA;AA+CA,kBA/CA,4BA+CA;AACA;AAAA;AAAA;AACA,KAjDA;AAkDA,iBAlDA,2BAkDA;AACA;AACA,KApDA;AAqDA,oBArDA,8BAqDA;AACA,qCACA,mBADA,IAEA,+CAFA;AAGA;AAzDA,GAVA;AAsEA;AACA;AACA,UAFA,oBAEA;AAAA;;AACA;AACA,4CACA,yEADA,GAEA,+DAFA;;AAIA;AACA;;AADA,qCAEA,CAFA;AAGA;AACA;AAAA;AAAA;;AACA;AACA;;AAEA;AACA;;AAEA,sEACA,IADA,CACA;AACA;AACA,sBACA,0DACA,oDAFA,EAGA;AACA;AACA,sEACA,IADA,CACA;AACA;AACA;;AACA;AACA;AACA;AACA,uBALA,MAKA;AACA;AACA;AACA,qBAVA;AAWA,mBAhBA,MAgBA;AACA;AACA,uEACA,IADA,CACA;AACA;AACA;;AACA;AACA;AACA;AACA,uBALA,MAKA;AACA;AACA;AACA,qBAVA;AAWA;AACA,iBA/BA,MA+BA;AACA;;AACA;AACA;AACA;AACA;AACA,mBAJA,CAIA;AACA;AACA;AACA;AACA,eA3CA;AA4CA;AAvDA;;AAEA;AAAA;AAsDA;AACA;AACA;AACA,KAnEA;AAqEA,UArEA,oBAqEA;AACA;AACA;AACA;AAAA;;AACA;AACA,wDACA,IADA,EAEA,sCAFA,2BAGA,sDAHA,yEAGA,OAHA;AAKA;;AAEA;AACA;AACA;AACA;AACA,KArFA;AAuFA,kBAvFA,4BAuFA;AAAA;;AACA;AACA;AACA,gCACA,6CADA,EAGA,IAHA,CAGA;AACA;AACA;AACA;AACA;AACA,OARA;AASA,KAnGA;AAqGA,aArGA,qBAqGA,UArGA,EAqGA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA;AAMA;AACA,KA9GA;AAgHA;AACA,aAjHA,qBAiHA,UAjHA,EAiHA;AACA;AACA;AACA;AACA,KArHA;AAuHA,2BAvHA,mCAwHA,UAxHA,EAyHA,YAzHA,EA0HA,SA1HA,EA2HA,aA3HA,EA4HA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;;AAEA,6DACA,mDACA,MADA,CACA;AAAA;AAAA,SADA,CADA;;AAIA;AACA;AACA;AACA;AACA;AA5IA,GAtEA;AAqNA,SArNA,qBAqNA;AACA;AACA,GAvNA;AAyNA,SAzNA,qBAyNA;AACA;AACA;AA3NA,G;;;;;;;;;;;ACxSA,2BAA2B,mBAAO,CAAC,yGAAwD;AAC3F;;;AAGA;AACA,cAAc,QAAS,4CAA4C,yBAAyB,gCAAgC,kBAAkB,GAAG,sFAAsF,gCAAgC,uBAAuB,mBAAmB,GAAG,+CAA+C,gCAAgC,GAAG;;AAEtY;;;;;;;;;;;;;ACNA,cAAc,mBAAO,CAAC,8lBAAqV;;AAE3W,4CAA4C,QAAS;;AAErD;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA,aAAa,mBAAO,CAAC,+GAA4D;;AAEjF;;AAEA,GAAG,KAAU,EAAE,E;;;;;;;;;;;;ACnBf;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,iBAAiB,EAAE;AACrC;AACA;AACA;AACA;AACA,4BAA4B,SAAS,mBAAmB,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,mBAAmB;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA,sBAAsB,yCAAyC;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,uCAAuC;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,4BAA4B,EAAE;AAChD;AACA;AACA;AACA;AACA,sBAAsB,2BAA2B;AACjD;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA,kCAAkC,SAAS;AAC3C;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC,yBAAyB;AACzB;AACA,sCAAsC,SAAS,mBAAmB,EAAE;AACpE;AACA;AACA;AACA;AACA;AACA,sCAAsC,SAAS,iBAAiB,EAAE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,sBAAsB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS,uBAAuB,EAAE;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,yBAAyB,mDAAmD;AAC5E;AACA;AACA;AACA,6BAA6B,SAAS,YAAY,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,SAAS,YAAY,EAAE;AACpD;AACA;AACA;AACA,iCAAiC,SAAS,8BAA8B,EAAE;AAC1E;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,sBAAsB;AAC/D;AACA;AACA;AACA;AACA,iDAAiD,0BAA0B;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,sBAAsB;AAC3E;AACA;AACA,+CAA+C,gCAAgC;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC18BA;AAAA;AAAA;AAAA;AAAA;AAAmG;AACvC;AACL;AACqC;;;AAG5F;AACmG;AACnG,gBAAgB,2GAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA,wCAAoM,CAAgB,oPAAG,EAAC,C;;;;;;;;;;;;ACAxN;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA","file":"7.js","sourcesContent":["<template>\n    <v-card>\n        <v-toolbar elevation=\"0\">\n            <v-toolbar-title>\n                <v-icon color=\"primary\">mdi-cloud-upload</v-icon>\n                BeatRoute Upload\n                {{\n                    this.InvoicesStore.state.invoiceStatus=='uploaded' ?\n                    '(Cancellation)' : ''\n                }}\n            </v-toolbar-title>\n\n            <v-spacer></v-spacer>\n\n            <v-btn\n                rounded dense depressed\n                :color=\"\n                    (\n                        this.InvoicesStore.state.invoiceStatus=='completed' ||\n                        this.InvoicesStore.state.invoiceStatus=='pending'\n                    )\n                    ? 'primary' : 'error'\n                \"\n                @click=\"upload\"\n                :disabled=\"disableUploadBtn\"\n            >\n                {{ enableReupload ? 'Reupload failed batch(es)' : 'Upload' }}\n            </v-btn>\n\n            <div class=\"ml-3\"><InvoiceLookup></InvoiceLookup></div>\n\n            <v-btn\n                icon\n                @click.stop=\"cancel\"\n                :disabled=\"stillUploading\"\n            >\n                <v-icon>mdi-close</v-icon>\n            </v-btn>\n        </v-toolbar>\n\n        <v-card-text v-if=\"batches.length < 1\" class=\"d-flex justify-center\">\n            <div>No available data to display</div>\n        </v-card-text>\n\n        <v-toolbar elevation=\"0\" dense>\n            <v-tabs v-model=\"tab\" verticalx growx>\n                <v-tab\n                    v-for=\"(b,i) in batches\"\n                    :key=\"i\"\n                >\n                    <div class=\"px-2 font-weight-bold text-left text-caption\">\n                        Batch {{ i+1 }}/{{ batches.length }}\n                        <v-progress-circular\n                            v-if=\"batchUploadStates[i]=='uploading'\"\n                            indeterminate dark\n                            :size=\"20\"\n                        ></v-progress-circular>\n                        <v-icon color=\"success\" v-else-if=\"batchUploadStates[i]=='success'\">\n                            mdi-check-circle\n                        </v-icon>\n                        <v-icon color=\"error\" v-else-if=\"batchUploadStates[i]=='failed'\">\n                            mdi-alert\n                        </v-icon>\n                    </div>\n                </v-tab>\n            </v-tabs>\n        </v-toolbar>\n\n        <v-card-text class=\"pt-2\">\n            <v-row>\n                <v-col cols=\"12\" md=\"12\">\n                    <v-tabs-items v-model=\"tab\">\n                        <v-tab-item\n                            v-for=\"(b, batchIndex) in batches\"\n                            :key=\"b[0].erp_invoice_number + b[0].invoice_date\"\n                        >\n                            <v-container fluid>\n                                <v-btn\n                                    @click=\"selectAll(batchIndex, true)\"\n                                    small rounded depressed\n                                    color=\"primary\"\n                                    :disabled=\"disableUploadBtn\"\n                                >\n                                    Select All\n                                </v-btn>\n                                <v-btn\n                                    @click=\"selectAll(batchIndex, false)\"\n                                    small rounded depressed\n                                    color=\"primary\"\n                                    :disabled=\"disableUploadBtn\"\n                                >\n                                    Deselect All\n                                </v-btn>\n                                <!-- <v-btn @click=\"checkdata(batchIndex)\">chkdt</v-btn> -->\n                            </v-container>\n\n                            <v-container fluid>\n                                <v-expansion-panels focusable multiple>\n                                    <v-expansion-panel\n                                        v-for=\"(invoice, invoiceIndex) in b\"\n                                        :key=\"'xpnsn-' + invoice.erp_invoice_number\"\n                                    >\n                                        <v-expansion-panel-header>\n                                            <div\n                                                class=\"text-caption font-weight-boldx d-flex\"\n                                                :class=\"\n                                                    (invoice.upload_status!=undefined && invoice.upload_status.success==true) ?\n                                                    'primary--text'\n                                                    : (invoice.upload_status!=undefined && invoice.upload_status.success==false) || invoice.with_errors.length ?\n                                                    'error--text'\n                                                    : ''\n                                                \"\n                                            >\n                                                <v-checkbox dense hide-details\n                                                    class=\"pa-0 ma-0\"\n                                                    color=\"secondary\"\n                                                    v-model=\"invoice.included\"\n                                                    title=\"Check to include, uncheck to exclude\"\n                                                    :disabled=\"disableUploadBtn || invoice.with_errors.length > 0\"\n                                                    :key = \"'chkbx-' + invoice.erp_invoice_number\"\n                                                ></v-checkbox>\n\n                                                {{ invoiceIndex + 1 }}. {{ invoice.isReturn ? 'CM #:': 'Invoice #:' }} {{ invoice.erp_invoice_number }}\n                                                (<em>{{ invoice.details.length }} item/s</em>)\n\n                                                <span v-if=\"(invoice.upload_status!=undefined && invoice.upload_status.success==false)\"\n                                                    class=\"font-weight-bold\"\n                                                >\n                                                    | Error:\n                                                    {{ invoice.upload_status.message }}\n                                                    ({{ invoice.upload_status.value }})\n                                                </span>\n\n                                                <span v-if=\"(invoice.upload_status!=undefined && invoice.upload_status.success==true)\"\n                                                    class=\"font-weight-bold\"\n                                                >\n                                                    | {{ invoice.upload_status.message }}\n                                                </span>\n                                            </div>\n                                        </v-expansion-panel-header>\n\n                                        <v-expansion-panel-content class=\"pt-4\">\n                                            <div v-if=\"invoice.with_errors.length\" class=\"p-2 mb-4\">\n                                                <div v-for=\"(err, i) in invoice.with_errors\" :key=\"i\"\n                                                    class=\"mb-1\"\n                                                >\n                                                    <div class=\"error--text\">\n                                                        <v-chip color=\"error\" x-small>\n                                                            Error\n                                                        </v-chip>\n                                                        {{ err }}\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div class=\"pb-4\">\n                                                <table class=\"invoice-detail\">\n                                                    <tr>\n                                                        <th>{{ invoice.isReturn ? 'CM': 'Invoice' }} #</th>\n                                                        <th>Invoice Date</th>\n                                                        <th>Customer</th>\n                                                        <th>Amount</th>\n                                                        <th>DSP</th>\n                                                        <th v-if=\"invoice.isReturn\">Return Indicator</th>\n                                                        <th v-if=\"invoice.isReturn\">Return Invoice Reference</th>\n                                                        <th v-if=\"invoice.isReturn\">Remarks</th>\n                                                    </tr>\n                                                    <tr>\n                                                        <td>{{ invoice.erp_invoice_number }}</td>\n                                                        <td>{{ invoice.invoice_date }}</td>\n                                                        <td>{{ invoice.customer_name }}</td>\n                                                        <td>{{ invoice.invoice_total_amount.toFixed(5) }}</td>\n                                                        <td>{{ invoice.customFields[0].value }}</td>\n                                                        <td v-if=\"invoice.isReturn\">\n                                                            {{ invoice.customFields[1].value }}\n                                                            <v-menu offset-y>\n                                                                <template v-slot:activator=\"{ on, attrs }\">\n                                                                    <v-btn\n                                                                        small rounded color=\"warning\"\n                                                                        v-bind=\"attrs\"\n                                                                        v-on=\"on\"\n                                                                        v-if=\"\n                                                                            (invoice.customFields[1].value == ''\n                                                                            || invoice.customFields[1].value == null\n                                                                            || invoice.customFields[1].value == 'not_specified')\n                                                                            && !disableUploadBtn\n                                                                        \"\n                                                                    >\n                                                                        Override\n                                                                    </v-btn>\n                                                                </template>\n                                                                <v-list>\n                                                                    <v-list-item\n                                                                        v-for=\"(reason, index) in BrStore.state.return_indicators\"\n                                                                        :key=\"index\"\n                                                                        @click=\"overrideInvoiceProperty(\n                                                                            batchIndex,\n                                                                            invoiceIndex,\n                                                                            'return_indicator_empty',\n                                                                            reason\n                                                                        )\"\n                                                                    >\n                                                                    <v-list-item-title>{{ reason }}</v-list-item-title>\n                                                                    </v-list-item>\n                                                                </v-list>\n                                                            </v-menu>\n                                                        </td>\n                                                        <td v-if=\"invoice.isReturn\">{{ invoice.customFields[2].value }}</td>\n                                                        <td v-if=\"invoice.isReturn\">\n                                                            {{ invoice.remarks }}\n                                                            <v-menu offset-y>\n                                                                <template v-slot:activator=\"{ on, attrs }\">\n                                                                    <v-btn\n                                                                        small rounded color=\"warning\"\n                                                                        v-bind=\"attrs\"\n                                                                        v-on=\"on\"\n                                                                        v-if=\"\n                                                                            (invoice.remarks == ''\n                                                                            || invoice.remarks == null\n                                                                            || invoice.remarks == 'not_specified')\n                                                                            && !disableUploadBtn\n                                                                        \"\n                                                                    >\n                                                                        Override\n                                                                    </v-btn>\n                                                                </template>\n                                                                <v-list>\n                                                                    <v-list-item\n                                                                        v-for=\"(reason, index) in BrStore.state.return_reasons\"\n                                                                        :key=\"index\"\n                                                                        @click=\"overrideInvoiceProperty(\n                                                                            batchIndex,\n                                                                            invoiceIndex,\n                                                                            'return_reason_empty',\n                                                                            reason\n                                                                        )\"\n                                                                    >\n                                                                    <v-list-item-title>{{ reason }}</v-list-item-title>\n                                                                    </v-list-item>\n                                                                </v-list>\n                                                            </v-menu>\n                                                        </td>\n                                                    </tr>\n                                                </table>\n                                            </div>\n                                            <div>\n                                                <v-data-table\n                                                    dense\n                                                    :headers=\"tblHeader\"\n                                                    :items=\"invoice.details\"\n                                                >\n                                                    <template v-slot:[`item.price_per_item`] = \"{item}\">\n                                                        <div class=\"text-right\">\n                                                            {{ item.price_per_item }}\n                                                        </div>\n                                                    </template>\n                                                    <template v-slot:[`item.discount_value`] = \"{item}\">\n                                                        <div class=\"text-right\">\n                                                            {{ Math.abs(item.discount_value) }}\n                                                        </div>\n                                                    </template>\n                                                    <template v-slot:[`item.gross_value`] = \"{item}\">\n                                                        <div class=\"text-right\">\n                                                            {{ item.gross_value }}\n                                                        </div>\n                                                    </template>\n                                                    <!-- <template v-slot:[`item.amount_wo_discount`] = \"{item}\">\n                                                        <div class=\"text-right\">\n                                                            {{ (item.gross_value + item.discount_value).toFixed(5) }}\n                                                        </div>\n                                                    </template> -->\n                                                    <template v-slot:[`item.discounted_amount`] = \"{item}\">\n                                                        <div class=\"text-right\">\n                                                            {{ (item.discounted_amount) }}\n                                                        </div>\n                                                    </template>\n                                                    <template v-slot:[`item.amount_vat_inc`] = \"{item}\">\n                                                        <div class=\"text-right\">\n                                                            {{ (item.discounted_amount) }}\n                                                        </div>\n                                                    </template>\n                                                </v-data-table>\n                                            </div>\n                                        </v-expansion-panel-content>\n                                    </v-expansion-panel>\n                                </v-expansion-panels>\n                            </v-container>\n                        </v-tab-item>\n                    </v-tabs-items>\n                </v-col>\n            </v-row>\n        </v-card-text>\n    </v-card>\n</template>\n\n\n<script>\nexport default {\n    data() {\n        return {\n            tab: null,\n            uploadAttempts: 0,\n            batchUploadStates: [],\n            batches: [],\n        }\n    },\n\n    computed: {\n        tblHeader() {\n            return [\n                {\n                    text: 'Item Name',\n                    value: 'item_name'\n                },\n                {\n                    text: 'SKU External ID',\n                    value: 'sku_external_id'\n                },\n                {\n                    text: 'SKU UOM',\n                    value: 'sku_uom'\n                },\n                {\n                    text: 'Price per Item (VAT-Ex)',\n                    value: 'price_per_item'\n                },\n                {\n                    text: 'Quantity',\n                    value: 'quantity'\n                },\n                // {\n                //     text: 'Amount',\n                //     value: 'amount_wo_discount'\n                // },\n                {\n                    text: 'Discount %',\n                    value: 'discount_percentage'\n                },\n                {\n                    text: 'Discount Amount',\n                    value: 'discount_value'\n                },\n                {\n                    text: 'Amount (Discounted)',\n                    value: 'discounted_amount'\n                },\n            ];\n        },\n        // batches() {\n        //     return this.BrStore.state.currentGeneratedBatches;\n        // },\n        stillUploading() {\n            return this.batchUploadStates.find(e => e == 'uploading') != undefined;\n        },\n        enableReupload() {\n            return this.batchUploadStates.find(e => e == 'failed') != undefined;\n        },\n        bussinessUnit() {\n            return this.PrincipalsStore.state.configs.bu;\n        },\n        disableUploadBtn() {\n            return !this.batches.length\n                || this.stillUploading\n                || !this.enableReupload && this.uploadAttempts > 0;\n        },\n    },\n\n    methods: {\n        // set status to '0' for cancel/archive\n        upload() {\n            if(this.batches) {\n                const confMsg = this.enableReupload ?\n                    'This action will reupload the failed batch(es) to the BeatRoute backend' :\n                    'This action will upload the invoices to the BeatRoute backend';\n\n                if(confirm(confMsg)) {\n                    this.uploadAttempts++;\n                    for(let i=0; i < this.batches.length; i++) {\n                        // refilter prepared payload, unchecked(included==false) are not uploaded\n                        const batch = this.batches[i].filter(e => e.included);\n                        console.log('BATCH ' + i, batch);\n                        const batchLen = batch.length;\n\n                        if((this.batchUploadStates[i] == undefined || this.batchUploadStates[i] == 'failed') && batchLen) {\n                            Vue.set(this.batchUploadStates,i,'uploading');\n\n                            this.BrStore.invoiceCreate(this.bussinessUnit, batch)\n                                .then(res => {\n                                    if(res.success) {\n                                        if (\n                                            this.InvoicesStore.state.invoiceStatus=='completed' ||\n                                            this.InvoicesStore.state.invoiceStatus=='pending'\n                                        ) {\n                                            // set status as 'uploaded'\n                                            this.InvoicesStore.setInvoicesUploaded(res.data)\n                                                .then(response => {\n                                                    if(response.success) {\n                                                        Vue.set(this.batchUploadStates,i,'success');\n                                                        for(let j=0; j < batchLen; j++) {\n                                                            batch[j].upload_status = response.batch[j];\n                                                        }\n                                                    } else {\n                                                        Vue.set(this.batchUploadStates,i,'failed');\n                                                    }\n                                                });\n                                        } else if (this.InvoicesStore.state.invoiceStatus=='uploaded') {\n                                            // set status from 'uploaded' back to 'completed''\n                                            this.InvoicesStore.setInvoicesCancelled(res.data)\n                                                .then(response => {\n                                                    if(response.success) {\n                                                        Vue.set(this.batchUploadStates,i,'success');\n                                                        for(let j=0; j < batchLen; j++) {\n                                                            batch[j].upload_status = response.batch[j];\n                                                        }\n                                                    } else {\n                                                        Vue.set(this.batchUploadStates,i,'failed');\n                                                    }\n                                                });\n                                        }\n                                    } else {\n                                        Vue.set(this.batchUploadStates,i,'failed');\n                                        try {\n                                            for(let j=0; j < batchLen; j++) {\n                                                batch[j].upload_status = res.data[j];\n                                            }\n                                        } catch (error) {\n                                            console.log('ERRRRR1111111111111111111',error);\n                                        }\n                                    }\n                                });\n                        }\n                    }\n                }\n            }\n        },\n\n        cancel() {\n            if(confirm('Are you sure you want to close this window?')) {\n                // regenerate templated data if upload states has been modified\n                if(this.batchUploadStates[0] || this.uploadAttempts > 0) {\n                    this.batchUploadStates = [];\n                    this.PrincipalsStore.initCurrentGeneratedData(\n                        null,\n                        this.InvoicesStore.state.invoiceStatus,\n                        this.PrincipalsStore.state.configs.posting_date_format ?? 'm/d/Y'\n                    );\n                }\n\n                this.tab = null;\n                this.uploadAttempts = 0;\n                this.BrStore.state.brUploadDialogOpen = false;\n            }\n        },\n\n        prepareBatches() {\n            const vm = this;\n            vm.AppStore.overlay(true, 'Preparing batches...');\n            vm.BrStore.preparePayload(\n                vm.PrincipalsStore.state.currentGeneratedData\n            )\n            .then(batches => {\n                this.batches = [];\n                this.batches = batches;\n                vm.AppStore.overlay(false);\n                console.log('BATCHES:', this.batches);\n            });\n        },\n\n        selectAll(batchIndex, included=true) {\n            if(this.batches) {\n                this.batches[batchIndex].forEach(e => {\n                    // mo gana ra if walay error ang invoice\n                    if(e.with_errors.length == 0) {\n                        e.included = included;\n                    }\n                });\n            }\n        },\n\n        // display invoices in currently selected batch\n        checkdata(batchIndex) {\n            if(this.batches) {\n                console.log('BATCH:', this.batches[batchIndex]);\n            }\n        },\n\n        overrideInvoiceProperty(\n            batchIndex,\n            invoiceIndex,\n            errorCode,\n            overrideValue\n        ) {\n            if(confirm(`Override with \"${overrideValue}\"?`)) {\n                if(errorCode == 'return_indicator_empty') {\n                    this.batches[batchIndex][invoiceIndex].customFields[1].value = overrideValue;\n                } else if (errorCode == 'return_reason_empty') {\n                    this.batches[batchIndex][invoiceIndex].remarks = overrideValue;\n                }\n\n                this.batches[batchIndex][invoiceIndex].with_errors =\n                    this.batches[batchIndex][invoiceIndex].with_errors\n                    .filter(e => e.search(errorCode) == -1 );\n\n                if(this.batches[batchIndex][invoiceIndex].with_errors.length < 1) {\n                    this.batches[batchIndex][invoiceIndex].included = true;\n                }\n            }\n        }\n    },\n\n    created() {\n        this.prepareBatches();\n    },\n\n    mounted() {\n        console.log(\"BRUpload component mounted\");\n    },\n};\n</script>\n\n\n<style scoped>\ntable.invoice-detail {\n    font-size: smaller;\n    border-collapse: collapse;\n    width: 100%;\n}\n\ntable.invoice-detail td, table.invoice-detail th {\n    border: 1px solid #f3f3f3;\n    text-align: left;\n    padding: 4px;\n}\n\ntable.invoice-detail tr th {\n    background-color: #f3f3f3;\n}\n</style>\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\\ntable.invoice-detail[data-v-c07a9e58] {\\n    font-size: smaller;\\n    border-collapse: collapse;\\n    width: 100%;\\n}\\ntable.invoice-detail td[data-v-c07a9e58], table.invoice-detail th[data-v-c07a9e58] {\\n    border: 1px solid #f3f3f3;\\n    text-align: left;\\n    padding: 4px;\\n}\\ntable.invoice-detail tr th[data-v-c07a9e58] {\\n    background-color: #f3f3f3;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BRUpload.vue?vue&type=style&index=0&id=c07a9e58&scoped=true&lang=css&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BRUpload.vue?vue&type=style&index=0&id=c07a9e58&scoped=true&lang=css&\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BRUpload.vue?vue&type=style&index=0&id=c07a9e58&scoped=true&lang=css&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"v-card\",\n    [\n      _c(\n        \"v-toolbar\",\n        { attrs: { elevation: \"0\" } },\n        [\n          _c(\n            \"v-toolbar-title\",\n            [\n              _c(\"v-icon\", { attrs: { color: \"primary\" } }, [\n                _vm._v(\"mdi-cloud-upload\")\n              ]),\n              _vm._v(\n                \"\\n            BeatRoute Upload\\n            \" +\n                  _vm._s(\n                    this.InvoicesStore.state.invoiceStatus == \"uploaded\"\n                      ? \"(Cancellation)\"\n                      : \"\"\n                  ) +\n                  \"\\n        \"\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\n            \"v-btn\",\n            {\n              attrs: {\n                rounded: \"\",\n                dense: \"\",\n                depressed: \"\",\n                color:\n                  this.InvoicesStore.state.invoiceStatus == \"completed\" ||\n                  this.InvoicesStore.state.invoiceStatus == \"pending\"\n                    ? \"primary\"\n                    : \"error\",\n                disabled: _vm.disableUploadBtn\n              },\n              on: { click: _vm.upload }\n            },\n            [\n              _vm._v(\n                \"\\n            \" +\n                  _vm._s(\n                    _vm.enableReupload ? \"Reupload failed batch(es)\" : \"Upload\"\n                  ) +\n                  \"\\n        \"\n              )\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"ml-3\" }, [_c(\"InvoiceLookup\")], 1),\n          _vm._v(\" \"),\n          _c(\n            \"v-btn\",\n            {\n              attrs: { icon: \"\", disabled: _vm.stillUploading },\n              on: {\n                click: function($event) {\n                  $event.stopPropagation()\n                  return _vm.cancel.apply(null, arguments)\n                }\n              }\n            },\n            [_c(\"v-icon\", [_vm._v(\"mdi-close\")])],\n            1\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _vm.batches.length < 1\n        ? _c(\"v-card-text\", { staticClass: \"d-flex justify-center\" }, [\n            _c(\"div\", [_vm._v(\"No available data to display\")])\n          ])\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\n        \"v-toolbar\",\n        { attrs: { elevation: \"0\", dense: \"\" } },\n        [\n          _c(\n            \"v-tabs\",\n            {\n              attrs: { verticalx: \"\", growx: \"\" },\n              model: {\n                value: _vm.tab,\n                callback: function($$v) {\n                  _vm.tab = $$v\n                },\n                expression: \"tab\"\n              }\n            },\n            _vm._l(_vm.batches, function(b, i) {\n              return _c(\"v-tab\", { key: i }, [\n                _c(\n                  \"div\",\n                  {\n                    staticClass: \"px-2 font-weight-bold text-left text-caption\"\n                  },\n                  [\n                    _vm._v(\n                      \"\\n                    Batch \" +\n                        _vm._s(i + 1) +\n                        \"/\" +\n                        _vm._s(_vm.batches.length) +\n                        \"\\n                    \"\n                    ),\n                    _vm.batchUploadStates[i] == \"uploading\"\n                      ? _c(\"v-progress-circular\", {\n                          attrs: { indeterminate: \"\", dark: \"\", size: 20 }\n                        })\n                      : _vm.batchUploadStates[i] == \"success\"\n                      ? _c(\"v-icon\", { attrs: { color: \"success\" } }, [\n                          _vm._v(\n                            \"\\n                        mdi-check-circle\\n                    \"\n                          )\n                        ])\n                      : _vm.batchUploadStates[i] == \"failed\"\n                      ? _c(\"v-icon\", { attrs: { color: \"error\" } }, [\n                          _vm._v(\n                            \"\\n                        mdi-alert\\n                    \"\n                          )\n                        ])\n                      : _vm._e()\n                  ],\n                  1\n                )\n              ])\n            }),\n            1\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-card-text\",\n        { staticClass: \"pt-2\" },\n        [\n          _c(\n            \"v-row\",\n            [\n              _c(\n                \"v-col\",\n                { attrs: { cols: \"12\", md: \"12\" } },\n                [\n                  _c(\n                    \"v-tabs-items\",\n                    {\n                      model: {\n                        value: _vm.tab,\n                        callback: function($$v) {\n                          _vm.tab = $$v\n                        },\n                        expression: \"tab\"\n                      }\n                    },\n                    _vm._l(_vm.batches, function(b, batchIndex) {\n                      return _c(\n                        \"v-tab-item\",\n                        { key: b[0].erp_invoice_number + b[0].invoice_date },\n                        [\n                          _c(\n                            \"v-container\",\n                            { attrs: { fluid: \"\" } },\n                            [\n                              _c(\n                                \"v-btn\",\n                                {\n                                  attrs: {\n                                    small: \"\",\n                                    rounded: \"\",\n                                    depressed: \"\",\n                                    color: \"primary\",\n                                    disabled: _vm.disableUploadBtn\n                                  },\n                                  on: {\n                                    click: function($event) {\n                                      return _vm.selectAll(batchIndex, true)\n                                    }\n                                  }\n                                },\n                                [\n                                  _vm._v(\n                                    \"\\n                                Select All\\n                            \"\n                                  )\n                                ]\n                              ),\n                              _vm._v(\" \"),\n                              _c(\n                                \"v-btn\",\n                                {\n                                  attrs: {\n                                    small: \"\",\n                                    rounded: \"\",\n                                    depressed: \"\",\n                                    color: \"primary\",\n                                    disabled: _vm.disableUploadBtn\n                                  },\n                                  on: {\n                                    click: function($event) {\n                                      return _vm.selectAll(batchIndex, false)\n                                    }\n                                  }\n                                },\n                                [\n                                  _vm._v(\n                                    \"\\n                                Deselect All\\n                            \"\n                                  )\n                                ]\n                              )\n                            ],\n                            1\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-container\",\n                            { attrs: { fluid: \"\" } },\n                            [\n                              _c(\n                                \"v-expansion-panels\",\n                                { attrs: { focusable: \"\", multiple: \"\" } },\n                                _vm._l(b, function(invoice, invoiceIndex) {\n                                  return _c(\n                                    \"v-expansion-panel\",\n                                    {\n                                      key: \"xpnsn-\" + invoice.erp_invoice_number\n                                    },\n                                    [\n                                      _c(\"v-expansion-panel-header\", [\n                                        _c(\n                                          \"div\",\n                                          {\n                                            staticClass:\n                                              \"text-caption font-weight-boldx d-flex\",\n                                            class:\n                                              invoice.upload_status !=\n                                                undefined &&\n                                              invoice.upload_status.success ==\n                                                true\n                                                ? \"primary--text\"\n                                                : (invoice.upload_status !=\n                                                    undefined &&\n                                                    invoice.upload_status\n                                                      .success == false) ||\n                                                  invoice.with_errors.length\n                                                ? \"error--text\"\n                                                : \"\"\n                                          },\n                                          [\n                                            _c(\"v-checkbox\", {\n                                              key:\n                                                \"chkbx-\" +\n                                                invoice.erp_invoice_number,\n                                              staticClass: \"pa-0 ma-0\",\n                                              attrs: {\n                                                dense: \"\",\n                                                \"hide-details\": \"\",\n                                                color: \"secondary\",\n                                                title:\n                                                  \"Check to include, uncheck to exclude\",\n                                                disabled:\n                                                  _vm.disableUploadBtn ||\n                                                  invoice.with_errors.length > 0\n                                              },\n                                              model: {\n                                                value: invoice.included,\n                                                callback: function($$v) {\n                                                  _vm.$set(\n                                                    invoice,\n                                                    \"included\",\n                                                    $$v\n                                                  )\n                                                },\n                                                expression: \"invoice.included\"\n                                              }\n                                            }),\n                                            _vm._v(\n                                              \"\\n\\n                                            \" +\n                                                _vm._s(invoiceIndex + 1) +\n                                                \". \" +\n                                                _vm._s(\n                                                  invoice.isReturn\n                                                    ? \"CM #:\"\n                                                    : \"Invoice #:\"\n                                                ) +\n                                                \" \" +\n                                                _vm._s(\n                                                  invoice.erp_invoice_number\n                                                ) +\n                                                \"\\n                                            (\"\n                                            ),\n                                            _c(\"em\", [\n                                              _vm._v(\n                                                _vm._s(invoice.details.length) +\n                                                  \" item/s\"\n                                              )\n                                            ]),\n                                            _vm._v(\n                                              \")\\n\\n                                            \"\n                                            ),\n                                            invoice.upload_status !=\n                                              undefined &&\n                                            invoice.upload_status.success ==\n                                              false\n                                              ? _c(\n                                                  \"span\",\n                                                  {\n                                                    staticClass:\n                                                      \"font-weight-bold\"\n                                                  },\n                                                  [\n                                                    _vm._v(\n                                                      \"\\n                                                | Error:\\n                                                \" +\n                                                        _vm._s(\n                                                          invoice.upload_status\n                                                            .message\n                                                        ) +\n                                                        \"\\n                                                (\" +\n                                                        _vm._s(\n                                                          invoice.upload_status\n                                                            .value\n                                                        ) +\n                                                        \")\\n                                            \"\n                                                    )\n                                                  ]\n                                                )\n                                              : _vm._e(),\n                                            _vm._v(\" \"),\n                                            invoice.upload_status !=\n                                              undefined &&\n                                            invoice.upload_status.success ==\n                                              true\n                                              ? _c(\n                                                  \"span\",\n                                                  {\n                                                    staticClass:\n                                                      \"font-weight-bold\"\n                                                  },\n                                                  [\n                                                    _vm._v(\n                                                      \"\\n                                                | \" +\n                                                        _vm._s(\n                                                          invoice.upload_status\n                                                            .message\n                                                        ) +\n                                                        \"\\n                                            \"\n                                                    )\n                                                  ]\n                                                )\n                                              : _vm._e()\n                                          ],\n                                          1\n                                        )\n                                      ]),\n                                      _vm._v(\" \"),\n                                      _c(\n                                        \"v-expansion-panel-content\",\n                                        { staticClass: \"pt-4\" },\n                                        [\n                                          invoice.with_errors.length\n                                            ? _c(\n                                                \"div\",\n                                                { staticClass: \"p-2 mb-4\" },\n                                                _vm._l(\n                                                  invoice.with_errors,\n                                                  function(err, i) {\n                                                    return _c(\n                                                      \"div\",\n                                                      {\n                                                        key: i,\n                                                        staticClass: \"mb-1\"\n                                                      },\n                                                      [\n                                                        _c(\n                                                          \"div\",\n                                                          {\n                                                            staticClass:\n                                                              \"error--text\"\n                                                          },\n                                                          [\n                                                            _c(\n                                                              \"v-chip\",\n                                                              {\n                                                                attrs: {\n                                                                  color:\n                                                                    \"error\",\n                                                                  \"x-small\": \"\"\n                                                                }\n                                                              },\n                                                              [\n                                                                _vm._v(\n                                                                  \"\\n                                                        Error\\n                                                    \"\n                                                                )\n                                                              ]\n                                                            ),\n                                                            _vm._v(\n                                                              \"\\n                                                    \" +\n                                                                _vm._s(err) +\n                                                                \"\\n                                                \"\n                                                            )\n                                                          ],\n                                                          1\n                                                        )\n                                                      ]\n                                                    )\n                                                  }\n                                                ),\n                                                0\n                                              )\n                                            : _vm._e(),\n                                          _vm._v(\" \"),\n                                          _c(\"div\", { staticClass: \"pb-4\" }, [\n                                            _c(\n                                              \"table\",\n                                              { staticClass: \"invoice-detail\" },\n                                              [\n                                                _c(\"tr\", [\n                                                  _c(\"th\", [\n                                                    _vm._v(\n                                                      _vm._s(\n                                                        invoice.isReturn\n                                                          ? \"CM\"\n                                                          : \"Invoice\"\n                                                      ) + \" #\"\n                                                    )\n                                                  ]),\n                                                  _vm._v(\" \"),\n                                                  _c(\"th\", [\n                                                    _vm._v(\"Invoice Date\")\n                                                  ]),\n                                                  _vm._v(\" \"),\n                                                  _c(\"th\", [\n                                                    _vm._v(\"Customer\")\n                                                  ]),\n                                                  _vm._v(\" \"),\n                                                  _c(\"th\", [_vm._v(\"Amount\")]),\n                                                  _vm._v(\" \"),\n                                                  _c(\"th\", [_vm._v(\"DSP\")]),\n                                                  _vm._v(\" \"),\n                                                  invoice.isReturn\n                                                    ? _c(\"th\", [\n                                                        _vm._v(\n                                                          \"Return Indicator\"\n                                                        )\n                                                      ])\n                                                    : _vm._e(),\n                                                  _vm._v(\" \"),\n                                                  invoice.isReturn\n                                                    ? _c(\"th\", [\n                                                        _vm._v(\n                                                          \"Return Invoice Reference\"\n                                                        )\n                                                      ])\n                                                    : _vm._e(),\n                                                  _vm._v(\" \"),\n                                                  invoice.isReturn\n                                                    ? _c(\"th\", [\n                                                        _vm._v(\"Remarks\")\n                                                      ])\n                                                    : _vm._e()\n                                                ]),\n                                                _vm._v(\" \"),\n                                                _c(\"tr\", [\n                                                  _c(\"td\", [\n                                                    _vm._v(\n                                                      _vm._s(\n                                                        invoice.erp_invoice_number\n                                                      )\n                                                    )\n                                                  ]),\n                                                  _vm._v(\" \"),\n                                                  _c(\"td\", [\n                                                    _vm._v(\n                                                      _vm._s(\n                                                        invoice.invoice_date\n                                                      )\n                                                    )\n                                                  ]),\n                                                  _vm._v(\" \"),\n                                                  _c(\"td\", [\n                                                    _vm._v(\n                                                      _vm._s(\n                                                        invoice.customer_name\n                                                      )\n                                                    )\n                                                  ]),\n                                                  _vm._v(\" \"),\n                                                  _c(\"td\", [\n                                                    _vm._v(\n                                                      _vm._s(\n                                                        invoice.invoice_total_amount.toFixed(\n                                                          5\n                                                        )\n                                                      )\n                                                    )\n                                                  ]),\n                                                  _vm._v(\" \"),\n                                                  _c(\"td\", [\n                                                    _vm._v(\n                                                      _vm._s(\n                                                        invoice.customFields[0]\n                                                          .value\n                                                      )\n                                                    )\n                                                  ]),\n                                                  _vm._v(\" \"),\n                                                  invoice.isReturn\n                                                    ? _c(\n                                                        \"td\",\n                                                        [\n                                                          _vm._v(\n                                                            \"\\n                                                        \" +\n                                                              _vm._s(\n                                                                invoice\n                                                                  .customFields[1]\n                                                                  .value\n                                                              ) +\n                                                              \"\\n                                                        \"\n                                                          ),\n                                                          _c(\n                                                            \"v-menu\",\n                                                            {\n                                                              attrs: {\n                                                                \"offset-y\": \"\"\n                                                              },\n                                                              scopedSlots: _vm._u(\n                                                                [\n                                                                  {\n                                                                    key:\n                                                                      \"activator\",\n                                                                    fn: function(\n                                                                      ref\n                                                                    ) {\n                                                                      var on =\n                                                                        ref.on\n                                                                      var attrs =\n                                                                        ref.attrs\n                                                                      return [\n                                                                        (invoice\n                                                                          .customFields[1]\n                                                                          .value ==\n                                                                          \"\" ||\n                                                                          invoice\n                                                                            .customFields[1]\n                                                                            .value ==\n                                                                            null ||\n                                                                          invoice\n                                                                            .customFields[1]\n                                                                            .value ==\n                                                                            \"not_specified\") &&\n                                                                        !_vm.disableUploadBtn\n                                                                          ? _c(\n                                                                              \"v-btn\",\n                                                                              _vm._g(\n                                                                                _vm._b(\n                                                                                  {\n                                                                                    attrs: {\n                                                                                      small:\n                                                                                        \"\",\n                                                                                      rounded:\n                                                                                        \"\",\n                                                                                      color:\n                                                                                        \"warning\"\n                                                                                    }\n                                                                                  },\n                                                                                  \"v-btn\",\n                                                                                  attrs,\n                                                                                  false\n                                                                                ),\n                                                                                on\n                                                                              ),\n                                                                              [\n                                                                                _vm._v(\n                                                                                  \"\\n                                                                    Override\\n                                                                \"\n                                                                                )\n                                                                              ]\n                                                                            )\n                                                                          : _vm._e()\n                                                                      ]\n                                                                    }\n                                                                  }\n                                                                ],\n                                                                null,\n                                                                true\n                                                              )\n                                                            },\n                                                            [\n                                                              _vm._v(\" \"),\n                                                              _c(\n                                                                \"v-list\",\n                                                                _vm._l(\n                                                                  _vm.BrStore\n                                                                    .state\n                                                                    .return_indicators,\n                                                                  function(\n                                                                    reason,\n                                                                    index\n                                                                  ) {\n                                                                    return _c(\n                                                                      \"v-list-item\",\n                                                                      {\n                                                                        key: index,\n                                                                        on: {\n                                                                          click: function(\n                                                                            $event\n                                                                          ) {\n                                                                            return _vm.overrideInvoiceProperty(\n                                                                              batchIndex,\n                                                                              invoiceIndex,\n                                                                              \"return_indicator_empty\",\n                                                                              reason\n                                                                            )\n                                                                          }\n                                                                        }\n                                                                      },\n                                                                      [\n                                                                        _c(\n                                                                          \"v-list-item-title\",\n                                                                          [\n                                                                            _vm._v(\n                                                                              _vm._s(\n                                                                                reason\n                                                                              )\n                                                                            )\n                                                                          ]\n                                                                        )\n                                                                      ],\n                                                                      1\n                                                                    )\n                                                                  }\n                                                                ),\n                                                                1\n                                                              )\n                                                            ],\n                                                            1\n                                                          )\n                                                        ],\n                                                        1\n                                                      )\n                                                    : _vm._e(),\n                                                  _vm._v(\" \"),\n                                                  invoice.isReturn\n                                                    ? _c(\"td\", [\n                                                        _vm._v(\n                                                          _vm._s(\n                                                            invoice\n                                                              .customFields[2]\n                                                              .value\n                                                          )\n                                                        )\n                                                      ])\n                                                    : _vm._e(),\n                                                  _vm._v(\" \"),\n                                                  invoice.isReturn\n                                                    ? _c(\n                                                        \"td\",\n                                                        [\n                                                          _vm._v(\n                                                            \"\\n                                                        \" +\n                                                              _vm._s(\n                                                                invoice.remarks\n                                                              ) +\n                                                              \"\\n                                                        \"\n                                                          ),\n                                                          _c(\n                                                            \"v-menu\",\n                                                            {\n                                                              attrs: {\n                                                                \"offset-y\": \"\"\n                                                              },\n                                                              scopedSlots: _vm._u(\n                                                                [\n                                                                  {\n                                                                    key:\n                                                                      \"activator\",\n                                                                    fn: function(\n                                                                      ref\n                                                                    ) {\n                                                                      var on =\n                                                                        ref.on\n                                                                      var attrs =\n                                                                        ref.attrs\n                                                                      return [\n                                                                        (invoice.remarks ==\n                                                                          \"\" ||\n                                                                          invoice.remarks ==\n                                                                            null ||\n                                                                          invoice.remarks ==\n                                                                            \"not_specified\") &&\n                                                                        !_vm.disableUploadBtn\n                                                                          ? _c(\n                                                                              \"v-btn\",\n                                                                              _vm._g(\n                                                                                _vm._b(\n                                                                                  {\n                                                                                    attrs: {\n                                                                                      small:\n                                                                                        \"\",\n                                                                                      rounded:\n                                                                                        \"\",\n                                                                                      color:\n                                                                                        \"warning\"\n                                                                                    }\n                                                                                  },\n                                                                                  \"v-btn\",\n                                                                                  attrs,\n                                                                                  false\n                                                                                ),\n                                                                                on\n                                                                              ),\n                                                                              [\n                                                                                _vm._v(\n                                                                                  \"\\n                                                                    Override\\n                                                                \"\n                                                                                )\n                                                                              ]\n                                                                            )\n                                                                          : _vm._e()\n                                                                      ]\n                                                                    }\n                                                                  }\n                                                                ],\n                                                                null,\n                                                                true\n                                                              )\n                                                            },\n                                                            [\n                                                              _vm._v(\" \"),\n                                                              _c(\n                                                                \"v-list\",\n                                                                _vm._l(\n                                                                  _vm.BrStore\n                                                                    .state\n                                                                    .return_reasons,\n                                                                  function(\n                                                                    reason,\n                                                                    index\n                                                                  ) {\n                                                                    return _c(\n                                                                      \"v-list-item\",\n                                                                      {\n                                                                        key: index,\n                                                                        on: {\n                                                                          click: function(\n                                                                            $event\n                                                                          ) {\n                                                                            return _vm.overrideInvoiceProperty(\n                                                                              batchIndex,\n                                                                              invoiceIndex,\n                                                                              \"return_reason_empty\",\n                                                                              reason\n                                                                            )\n                                                                          }\n                                                                        }\n                                                                      },\n                                                                      [\n                                                                        _c(\n                                                                          \"v-list-item-title\",\n                                                                          [\n                                                                            _vm._v(\n                                                                              _vm._s(\n                                                                                reason\n                                                                              )\n                                                                            )\n                                                                          ]\n                                                                        )\n                                                                      ],\n                                                                      1\n                                                                    )\n                                                                  }\n                                                                ),\n                                                                1\n                                                              )\n                                                            ],\n                                                            1\n                                                          )\n                                                        ],\n                                                        1\n                                                      )\n                                                    : _vm._e()\n                                                ])\n                                              ]\n                                            )\n                                          ]),\n                                          _vm._v(\" \"),\n                                          _c(\n                                            \"div\",\n                                            [\n                                              _c(\"v-data-table\", {\n                                                attrs: {\n                                                  dense: \"\",\n                                                  headers: _vm.tblHeader,\n                                                  items: invoice.details\n                                                },\n                                                scopedSlots: _vm._u(\n                                                  [\n                                                    {\n                                                      key:\n                                                        \"item.price_per_item\",\n                                                      fn: function(ref) {\n                                                        var item = ref.item\n                                                        return [\n                                                          _c(\n                                                            \"div\",\n                                                            {\n                                                              staticClass:\n                                                                \"text-right\"\n                                                            },\n                                                            [\n                                                              _vm._v(\n                                                                \"\\n                                                        \" +\n                                                                  _vm._s(\n                                                                    item.price_per_item\n                                                                  ) +\n                                                                  \"\\n                                                    \"\n                                                              )\n                                                            ]\n                                                          )\n                                                        ]\n                                                      }\n                                                    },\n                                                    {\n                                                      key:\n                                                        \"item.discount_value\",\n                                                      fn: function(ref) {\n                                                        var item = ref.item\n                                                        return [\n                                                          _c(\n                                                            \"div\",\n                                                            {\n                                                              staticClass:\n                                                                \"text-right\"\n                                                            },\n                                                            [\n                                                              _vm._v(\n                                                                \"\\n                                                        \" +\n                                                                  _vm._s(\n                                                                    Math.abs(\n                                                                      item.discount_value\n                                                                    )\n                                                                  ) +\n                                                                  \"\\n                                                    \"\n                                                              )\n                                                            ]\n                                                          )\n                                                        ]\n                                                      }\n                                                    },\n                                                    {\n                                                      key: \"item.gross_value\",\n                                                      fn: function(ref) {\n                                                        var item = ref.item\n                                                        return [\n                                                          _c(\n                                                            \"div\",\n                                                            {\n                                                              staticClass:\n                                                                \"text-right\"\n                                                            },\n                                                            [\n                                                              _vm._v(\n                                                                \"\\n                                                        \" +\n                                                                  _vm._s(\n                                                                    item.gross_value\n                                                                  ) +\n                                                                  \"\\n                                                    \"\n                                                              )\n                                                            ]\n                                                          )\n                                                        ]\n                                                      }\n                                                    },\n                                                    {\n                                                      key:\n                                                        \"item.discounted_amount\",\n                                                      fn: function(ref) {\n                                                        var item = ref.item\n                                                        return [\n                                                          _c(\n                                                            \"div\",\n                                                            {\n                                                              staticClass:\n                                                                \"text-right\"\n                                                            },\n                                                            [\n                                                              _vm._v(\n                                                                \"\\n                                                        \" +\n                                                                  _vm._s(\n                                                                    item.discounted_amount\n                                                                  ) +\n                                                                  \"\\n                                                    \"\n                                                              )\n                                                            ]\n                                                          )\n                                                        ]\n                                                      }\n                                                    },\n                                                    {\n                                                      key:\n                                                        \"item.amount_vat_inc\",\n                                                      fn: function(ref) {\n                                                        var item = ref.item\n                                                        return [\n                                                          _c(\n                                                            \"div\",\n                                                            {\n                                                              staticClass:\n                                                                \"text-right\"\n                                                            },\n                                                            [\n                                                              _vm._v(\n                                                                \"\\n                                                        \" +\n                                                                  _vm._s(\n                                                                    item.discounted_amount\n                                                                  ) +\n                                                                  \"\\n                                                    \"\n                                                              )\n                                                            ]\n                                                          )\n                                                        ]\n                                                      }\n                                                    }\n                                                  ],\n                                                  null,\n                                                  true\n                                                )\n                                              })\n                                            ],\n                                            1\n                                          )\n                                        ]\n                                      )\n                                    ],\n                                    1\n                                  )\n                                }),\n                                1\n                              )\n                            ],\n                            1\n                          )\n                        ],\n                        1\n                      )\n                    }),\n                    1\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./BRUpload.vue?vue&type=template&id=c07a9e58&scoped=true&\"\nimport script from \"./BRUpload.vue?vue&type=script&lang=js&\"\nexport * from \"./BRUpload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BRUpload.vue?vue&type=style&index=0&id=c07a9e58&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c07a9e58\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\laragon\\\\www\\\\DSGPM_DEV\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('c07a9e58')) {\n      api.createRecord('c07a9e58', component.options)\n    } else {\n      api.reload('c07a9e58', component.options)\n    }\n    module.hot.accept(\"./BRUpload.vue?vue&type=template&id=c07a9e58&scoped=true&\", function () {\n      api.rerender('c07a9e58', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/pages/Principals/common/BRUpload.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BRUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BRUpload.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/style-loader/index.js!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BRUpload.vue?vue&type=style&index=0&id=c07a9e58&scoped=true&lang=css&\"","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BRUpload.vue?vue&type=template&id=c07a9e58&scoped=true&\""],"sourceRoot":""}