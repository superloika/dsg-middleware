{"version":3,"sources":["webpack:///resources/js/pages/Principals/common/DevChat.vue","webpack:///./resources/js/pages/Principals/common/DevChat.vue?dc53","webpack:///./resources/js/pages/Principals/common/DevChat.vue","webpack:///./resources/js/pages/Principals/common/DevChat.vue?e633","webpack:///./resources/js/pages/Principals/common/DevChat.vue?3814"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA,MADA,kBACA;AACA;AACA,eADA;AAEA;AACA,oBAHA;AAIA;AAJA;AAMA,GARA;AAUA;AACA,WADA,qBACA;AACA;AACA;AACA,KAJA;AAKA,eALA,yBAKA;AACA;AACA;AAPA,GAVA;AAoBA;AACA,iBADA,2BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA,uBAEA;AACA;AACA;AACA,iBAHA,CAFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KAPA;AASA,eATA,uBASA,OATA,EASA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,uBADA,GACA;AACA,kCADA;AAEA;AAFA,iBADA;AAKA;AALA;AAAA,uBAMA;AACA;AACA;AACA;AACA,iBAJA,CANA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA,KApBA,CAsBA;AACA;AACA;AACA;AACA;AACA;;AA3BA,GApBA;AAmDA,UACA;AACA;AACA;AAHA,GAnDA;AAyDA,SAzDA,qBAyDA;AACA;AACA;AACA,GA5DA;AA8DA,SA9DA,qBA8DA;AACA;AACA;AAhEA,G;;;;;;;;;;;;ACjHA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS,sBAAsB,EAAE;AAC9C;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,qBAAqB,oCAAoC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,0BAA0B;AAC1B,iBAAiB;AACjB;AACA,oCAAoC,8BAA8B;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA,2CAA2C,wBAAwB;AACnE;AACA;AACA;AACA;AACA;AACA,yCAAyC,SAAS,sBAAsB,EAAE;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,4BAA4B;AAC5E;AACA;AACA;AACA,iCAAiC;AACjC;AACA,2CAA2C,sBAAsB;AACjE,4CAA4C,yBAAyB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS,sBAAsB,EAAE;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,kBAAkB;AAC1D,oCAAoC,+BAA+B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxNA;AAAA;AAAA;AAAA;AAAsF;AAC3B;AACL;;;AAGtD;AACmG;AACnG,gBAAgB,2GAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAAmM,CAAgB,mPAAG,EAAC,C;;;;;;;;;;;;ACAvN;AAAA;AAAA;AAAA;AAAA;AAAA","file":"4.js","sourcesContent":["<template>\n    <v-sheet @mousedown=\"DevChatStore.state.unreadMsgCount=0\" class=\"pa-2 ma-0\">\n        <v-row>\n            <v-col cols=\"12\" md=\"8\">\n                <v-sheet class=\"pb-4\">\n                    <v-textarea\n                        solo auto-grow hide-details\n                        v-model=\"newMessage\"\n                        label=\"Type your message here\"\n                        rows=\"1\"\n                        class=\"pb-2\"\n                    ></v-textarea>\n                    <div class=\"d-flex justify-end\">\n                        <v-btn\n                            rounded depressed hide-details\n                            color=\"primary\"\n                            @click=\"sendMessage(newMessage)\"\n                            :loading=\"sending\"\n                            :disabled=\"newMessage=='' || newMessage==null\"\n                        >\n                            <v-icon>mdi-send</v-icon>\n                            Send\n                        </v-btn>\n                    </div>\n                </v-sheet>\n\n                <v-card style=\"overflow-y: scroll;max-height: 400px;\" flat>\n                    <div\n                        v-for=\"(message, i) in DevChatStore.state.messages\"\n                        :key=\"i\"\n                        class=\"mb-1\"\n                    >\n                        <div\n                            :class=\"\n                                AuthUser.username==message.username\n                                ? 'd-flex align-end flex-column'\n                                : 'd-flex align-start flex-column'\n                            \"\n                        >\n                            <div\n                                :class=\"AuthUser.username==message.username\n                                    ? 'primary' : 'secondary'\n                                \"\n                                class=\"rounded-lg\"\n                                style=\"max-width:700px;\"\n                            >\n                                <div class=\"pl-4 pr-6 pt-4 pb-2 white--text\">\n                                    <div class=\"d-flex\">\n                                        <div>\n                                            <v-icon color=\"\" dark>mdi-account</v-icon>\n                                        </div>\n                                        <div class=\"pt-1 font-weight-bold caption\">\n                                            {{ message.name }}\n                                        </div>\n                                    </div>\n                                    <div\n                                        class=\"caption\"\n                                        style=\"white-space: pre-line\"\n                                        v-html=\"message.message\"\n                                    >\n                                    </div>\n                                    <div class=\"mt-2\">\n                                        <em class=\"caption\">\n                                            {{ message.created_at }}\n                                        </em>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </v-card>\n            </v-col>\n\n            <v-col cols=\"12\" md=\"4\">\n                <v-card>\n                    <v-card-text>\n                        <div\n                            v-for=\"(u) in onlineUsers\"\n                            :key=\"u.username\"\n                        >\n                            <span class='primary--text'>\n                                {{ u.name }} (<em>{{ u.username }}</em>)\n                            </span>\n                        </div>\n                    </v-card-text>\n\n                    <!-- <v-list rounded>\n                        <v-subheader>Online Users</v-subheader>\n                        <v-list-item-group>\n                            <v-list-item\n                                v-for=\"(u) in onlineUsers\"\n                                :key=\"u.username\"\n                                dense\n                            >\n                                <v-list-item-content>\n                                    <v-list-item-title\n                                        :class=\"u.id==AuthUser.id ? 'info--text' : 'primary--text'\"\n                                    >\n                                    <span>\n                                        {{ u.name }} - <em>{{ u.username }}</em>\n                                    </span>\n                                    </v-list-item-title>\n                                </v-list-item-content>\n                            </v-list-item>\n                        </v-list-item-group>\n                    </v-list> -->\n                </v-card>\n            </v-col>\n        </v-row>\n    </v-sheet>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            users: [],\n            // messages: [],\n            newMessage: \"\",\n            sending: false,\n        };\n    },\n\n    computed: {\n        channel() {\n            // return this.PrincipalsStore.state.selectedPrincipalCode;\n            return this.DevChatStore.state.groupChannel;\n        },\n        onlineUsers() {\n            return this.DevChatStore.state.onlineUsers;\n        }\n    },\n\n    methods: {\n        async fetchMessages() {\n            this.sending = true;\n            await axios.get(`/devchat/fetch-messages?channel=${this.channel}`).then(response => {\n                this.DevChatStore.state.messages = response.data;\n                this.sending = false;\n            });\n        },\n\n        async sendMessage(message) {\n            const payload = {\n                message: message,\n                channel: this.channel,\n            };\n            this.sending = true;\n            await axios.post(\"/devchat/send-message\", payload).then(response => {\n                this.newMessage = \"\";\n                console.log(response.data);\n                this.sending = false;\n            });\n        },\n\n        // onKeyup(event) {\n        //     console.log(event.key);\n        //     if(event.key == '@') {\n        //         alert('test');\n        //     }\n        // },\n\n    },\n\n    watch: {\n        // subscribedUsers() {\n        //     console.log(this.subscribedUsers);\n        // }\n    },\n\n    mounted() {\n        console.log(\"DevChat page mounted.\");\n        this.DevChatStore.state.unreadMsgCount = 0;\n    },\n\n    created() {\n        this.fetchMessages();\n    }\n};\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"v-sheet\",\n    {\n      staticClass: \"pa-2 ma-0\",\n      on: {\n        mousedown: function($event) {\n          _vm.DevChatStore.state.unreadMsgCount = 0\n        }\n      }\n    },\n    [\n      _c(\n        \"v-row\",\n        [\n          _c(\n            \"v-col\",\n            { attrs: { cols: \"12\", md: \"8\" } },\n            [\n              _c(\n                \"v-sheet\",\n                { staticClass: \"pb-4\" },\n                [\n                  _c(\"v-textarea\", {\n                    staticClass: \"pb-2\",\n                    attrs: {\n                      solo: \"\",\n                      \"auto-grow\": \"\",\n                      \"hide-details\": \"\",\n                      label: \"Type your message here\",\n                      rows: \"1\"\n                    },\n                    model: {\n                      value: _vm.newMessage,\n                      callback: function($$v) {\n                        _vm.newMessage = $$v\n                      },\n                      expression: \"newMessage\"\n                    }\n                  }),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    { staticClass: \"d-flex justify-end\" },\n                    [\n                      _c(\n                        \"v-btn\",\n                        {\n                          attrs: {\n                            rounded: \"\",\n                            depressed: \"\",\n                            \"hide-details\": \"\",\n                            color: \"primary\",\n                            loading: _vm.sending,\n                            disabled:\n                              _vm.newMessage == \"\" || _vm.newMessage == null\n                          },\n                          on: {\n                            click: function($event) {\n                              return _vm.sendMessage(_vm.newMessage)\n                            }\n                          }\n                        },\n                        [\n                          _c(\"v-icon\", [_vm._v(\"mdi-send\")]),\n                          _vm._v(\n                            \"\\n                        Send\\n                    \"\n                          )\n                        ],\n                        1\n                      )\n                    ],\n                    1\n                  )\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-card\",\n                {\n                  staticStyle: {\n                    \"overflow-y\": \"scroll\",\n                    \"max-height\": \"400px\"\n                  },\n                  attrs: { flat: \"\" }\n                },\n                _vm._l(_vm.DevChatStore.state.messages, function(message, i) {\n                  return _c(\"div\", { key: i, staticClass: \"mb-1\" }, [\n                    _c(\n                      \"div\",\n                      {\n                        class:\n                          _vm.AuthUser.username == message.username\n                            ? \"d-flex align-end flex-column\"\n                            : \"d-flex align-start flex-column\"\n                      },\n                      [\n                        _c(\n                          \"div\",\n                          {\n                            staticClass: \"rounded-lg\",\n                            class:\n                              _vm.AuthUser.username == message.username\n                                ? \"primary\"\n                                : \"secondary\",\n                            staticStyle: { \"max-width\": \"700px\" }\n                          },\n                          [\n                            _c(\n                              \"div\",\n                              {\n                                staticClass: \"pl-4 pr-6 pt-4 pb-2 white--text\"\n                              },\n                              [\n                                _c(\"div\", { staticClass: \"d-flex\" }, [\n                                  _c(\n                                    \"div\",\n                                    [\n                                      _c(\n                                        \"v-icon\",\n                                        { attrs: { color: \"\", dark: \"\" } },\n                                        [_vm._v(\"mdi-account\")]\n                                      )\n                                    ],\n                                    1\n                                  ),\n                                  _vm._v(\" \"),\n                                  _c(\n                                    \"div\",\n                                    {\n                                      staticClass:\n                                        \"pt-1 font-weight-bold caption\"\n                                    },\n                                    [\n                                      _vm._v(\n                                        \"\\n                                        \" +\n                                          _vm._s(message.name) +\n                                          \"\\n                                    \"\n                                      )\n                                    ]\n                                  )\n                                ]),\n                                _vm._v(\" \"),\n                                _c(\"div\", {\n                                  staticClass: \"caption\",\n                                  staticStyle: { \"white-space\": \"pre-line\" },\n                                  domProps: {\n                                    innerHTML: _vm._s(message.message)\n                                  }\n                                }),\n                                _vm._v(\" \"),\n                                _c(\"div\", { staticClass: \"mt-2\" }, [\n                                  _c(\"em\", { staticClass: \"caption\" }, [\n                                    _vm._v(\n                                      \"\\n                                        \" +\n                                        _vm._s(message.created_at) +\n                                        \"\\n                                    \"\n                                    )\n                                  ])\n                                ])\n                              ]\n                            )\n                          ]\n                        )\n                      ]\n                    )\n                  ])\n                }),\n                0\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-col\",\n            { attrs: { cols: \"12\", md: \"4\" } },\n            [\n              _c(\n                \"v-card\",\n                [\n                  _c(\n                    \"v-card-text\",\n                    _vm._l(_vm.onlineUsers, function(u) {\n                      return _c(\"div\", { key: u.username }, [\n                        _c(\"span\", { staticClass: \"primary--text\" }, [\n                          _vm._v(\n                            \"\\n                            \" +\n                              _vm._s(u.name) +\n                              \" (\"\n                          ),\n                          _c(\"em\", [_vm._v(_vm._s(u.username))]),\n                          _vm._v(\")\\n                        \")\n                        ])\n                      ])\n                    }),\n                    0\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./DevChat.vue?vue&type=template&id=ca20914c&\"\nimport script from \"./DevChat.vue?vue&type=script&lang=js&\"\nexport * from \"./DevChat.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\laragon\\\\www\\\\DSGPM_DEV\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('ca20914c')) {\n      api.createRecord('ca20914c', component.options)\n    } else {\n      api.reload('ca20914c', component.options)\n    }\n    module.hot.accept(\"./DevChat.vue?vue&type=template&id=ca20914c&\", function () {\n      api.rerender('ca20914c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/pages/Principals/common/DevChat.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DevChat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DevChat.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DevChat.vue?vue&type=template&id=ca20914c&\""],"sourceRoot":""}