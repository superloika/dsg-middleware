(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{28:function(e,s,n){"use strict";n.r(s);var t={data:function(){return{users:[],messages:[],newMessage:""}},computed:{channel:function(){return this.PrincipalsStore.state.selectedPrincipalCode}},methods:{fetchMessages:function(){var e=this;axios.get("/devchat/fetch-messages?channel=".concat(this.channel)).then((function(s){e.messages=s.data}))},sendMessage:function(e){var s=this,n={message:e,channel:this.channel};axios.post("/devchat/send-message",n).then((function(e){s.newMessage="",console.log(e.data)}))}},mounted:function(){console.log("DevChat page mounted.")},created:function(){var e=this;this.fetchMessages(),Echo.join(this.channel).listen("MessageSent",(function(s){e.messages.unshift(s.message)}))}},a=n(0),i=Object(a.a)(t,(function(){var e=this,s=e.$createElement,n=e._self._c||s;return n("div",[n("v-container",[n("div",[n("v-text-field",{attrs:{rounded:"",solo:"",placeholder:"Enter message here"},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.sendMessage(e.newMessage)}},model:{value:e.newMessage,callback:function(s){e.newMessage=s},expression:"newMessage"}})],1)]),e._v(" "),n("v-sheet",{staticClass:"pa-4"},e._l(e.messages,(function(s,t){return n("div",{key:t,staticClass:"mb-1"},[n("div",{class:e.AuthUser.username==s.username?"d-flex align-end flex-column":"d-flex align-start flex-column"},[n("v-card",{class:e.AuthUser.username==s.username?"light-blue darken-2":"secondary",attrs:{dark:""}},[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[e._v("\n                                "+e._s(s.message)+"\n                            ")]),e._v(" "),n("v-list-item-subtitle",[n("em",{staticClass:"caption"},[e._v("\n                                    "+e._s(s.created_at)+"\n                                ")])])],1)],1)],1)],1)])})),0)],1)}),[],!1,null,null,null);s.default=i.exports}}]);