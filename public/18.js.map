{"version":3,"sources":["webpack:///resources/js/pages/Principals/common/Transactions.vue","webpack:///./resources/js/pages/Principals/common/Transactions.vue?4d11","webpack:///./resources/js/pages/Principals/common/Transactions.vue","webpack:///./resources/js/pages/Principals/common/Transactions.vue?5957","webpack:///./resources/js/pages/Principals/common/Transactions.vue?a1e8"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA,8BADA;AAGA;AAAA;AACA,sBADA,CAEA;;AAFA;AAAA,GAHA;AAQA;AACA,yBADA,mCACA;AACA;AACA,KAHA;AAKA,aALA,uBAKA;AACA;AACA,KAPA;AASA,eATA,yBASA;AACA;;AAEA;AACA;AACA;AACA,SAFA;AAGA;;AACA;AACA;AAlBA,GARA;AA6BA;AACA,iBADA,2BACA;AACA,8BACA,CACA,oBADA,EAEA,uCAFA,CADA;AAOA,wCACA,kBADA,CACA,yBADA;AAGA,yCACA,aADA,EAEA,yCACA,gBADA,EAEA,aAFA,CAFA,EAMA,MANA,YAOA,0BAPA;AASA,KArBA,CAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAhCA,GA7BA;AAgEA,SAhEA,qBAgEA;AACA;AACA;AACA,GAnEA;AAqEA,SArEA,qBAqEA,CACA;AAtEA,G;;;;;;;;;;;;AC9DA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,qCAAqC,YAAY,EAAE;AAC5D;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,kCAAkC,8BAA8B;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,kCAAkC,8BAA8B;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnKA;AAAA;AAAA;AAAA;AAA2F;AAC3B;AACL;;;AAG3D;AACmG;AACnG,gBAAgB,2GAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAAwM,CAAgB,wPAAG,EAAC,C;;;;;;;;;;;;ACA5N;AAAA;AAAA;AAAA;AAAA;AAAA","file":"18.js","sourcesContent":["<template>\n<v-sheet>\n    <v-toolbar class=\"elevation-0\" dense>\n        <v-chip color=\"primary\" labelx class=\"mr-1\" small>\n            <em>Total Amount:&nbsp;</em>\n            {{ AppStore.formatAsCurrency(totalAmount) }}\n        </v-chip>\n        <v-chip color=\"primary\" labelx class=\"mr-1\" small>\n            <em>Grand Total:&nbsp;</em>\n            {{ AppStore.formatAsCurrency(PrincipalsStore.state.invoicesGrandTotal) }}\n        </v-chip>\n\n        <v-spacer></v-spacer>\n\n        <v-btn color=\"success\"\n            icon\n            title=\"Export to Excel\"\n            @click=\"exportToExcel()\"\n            :disabled=\"(searchKey!=null && searchKey!='') ||\n                    PrincipalsStore.state.transactions.length < 1\n                \"\n        >\n            <v-icon>mdi-file-excel</v-icon>\n        </v-btn>\n    </v-toolbar>\n    <v-sheet>\n        <v-data-table\n            :items=\"PrincipalsStore.state.transactions\"\n            :headers=\"tblHeader\"\n            dense\n            :search=\"searchKey\"\n            class=\"elevation-1\"\n            id=\"transactions\"\n            :loading=\"PrincipalsStore.state.isInitTransactions\"\n        >\n            <template v-slot:[`item.upload_date`] = \"{ item }\">\n                <span>\n                    {{ item.upload_date.substring(0,10) }}\n                </span>\n            </template>\n            <template v-slot:[`item.u3`] = \"{ item }\">\n                <span>\n                    {{ AppStore.formatAsCurrency(parseFloat(item.u3)) }}\n                </span>\n            </template>\n            <template v-slot:[`item.customer_name`] = \"{ item }\">\n                <span class=\"text-caption\">\n                    {{ item.customer_name }}\n                </span>\n            </template>\n            <template v-slot:[`item.description`] = \"{ item }\">\n                <span class=\"text-caption\">\n                    {{ item.description }}\n                </span>\n            </template>\n        </v-data-table>\n    </v-sheet>\n</v-sheet>\n</template>\n\n\n<script>\nexport default {\n    props: ['date','searchKey'],\n\n    data: () => ({\n        grandTotal: 0.00,\n        // tblFirstPageTotalAmount: 0.00,\n    }),\n\n    computed: {\n        selectedPrincipalCode() {\n            return this.PrincipalsStore.state.selectedPrincipalCode;\n        },\n\n        tblHeader() {\n            return this[this.selectedPrincipalCode].state.transactionsTableHeader;\n        },\n\n        totalAmount() {\n            let amount = 0.00;\n\n            if(this.PrincipalsStore.state.transactions.length > 0) {\n                this.PrincipalsStore.state.transactions.forEach(e => {\n                    amount += parseFloat(e.u3);\n                });\n            }\n            return amount;\n        },\n    },\n\n    methods: {\n        exportToExcel() {\n            const transactionsData = [\n                [\n                    this.date.toString(),\n                    this.PrincipalsStore.state.transactions\n                ]\n            ];\n\n            const config = this.PrincipalsStore\n                .getHeaderAndFormat('transactionsTableHeader');\n\n            this.PrincipalsStore.exportToExcel(\n                config.header,\n                this.PrincipalsStore.generatedDataSubset(\n                    transactionsData,\n                    config.format\n                ),\n                [7, 8],\n                `${this.selectedPrincipalCode}_Transactions`\n            );\n        },\n\n        // getFilteredItems(e) {\n        //     if(e.length > 0) {\n        //         this.tblFirstPageTotalAmount = 0.00;\n        //         e.forEach(el => {\n        //             this.tblFirstPageTotalAmount += parseFloat(el.u3);\n        //         });\n        //     } else {\n        //         this.tblFirstPageTotalAmount = 0.00;\n        //     }\n        // }\n    },\n\n    created() {\n        this.PrincipalsStore.initTransactions(this.selectedPrincipalCode, this.date);\n        this.PrincipalsStore.initInvoicesGrandTotal();\n    },\n\n    mounted() {\n    }\n\n\n}\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"v-sheet\",\n    [\n      _c(\n        \"v-toolbar\",\n        { staticClass: \"elevation-0\", attrs: { dense: \"\" } },\n        [\n          _c(\n            \"v-chip\",\n            {\n              staticClass: \"mr-1\",\n              attrs: { color: \"primary\", labelx: \"\", small: \"\" }\n            },\n            [\n              _c(\"em\", [_vm._v(\"Total Amount: \")]),\n              _vm._v(\n                \"\\n            \" +\n                  _vm._s(_vm.AppStore.formatAsCurrency(_vm.totalAmount)) +\n                  \"\\n        \"\n              )\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-chip\",\n            {\n              staticClass: \"mr-1\",\n              attrs: { color: \"primary\", labelx: \"\", small: \"\" }\n            },\n            [\n              _c(\"em\", [_vm._v(\"Grand Total: \")]),\n              _vm._v(\n                \"\\n            \" +\n                  _vm._s(\n                    _vm.AppStore.formatAsCurrency(\n                      _vm.PrincipalsStore.state.invoicesGrandTotal\n                    )\n                  ) +\n                  \"\\n        \"\n              )\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\"v-spacer\"),\n          _vm._v(\" \"),\n          _c(\n            \"v-btn\",\n            {\n              attrs: {\n                color: \"success\",\n                icon: \"\",\n                title: \"Export to Excel\",\n                disabled:\n                  (_vm.searchKey != null && _vm.searchKey != \"\") ||\n                  _vm.PrincipalsStore.state.transactions.length < 1\n              },\n              on: {\n                click: function($event) {\n                  return _vm.exportToExcel()\n                }\n              }\n            },\n            [_c(\"v-icon\", [_vm._v(\"mdi-file-excel\")])],\n            1\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"v-sheet\",\n        [\n          _c(\"v-data-table\", {\n            staticClass: \"elevation-1\",\n            attrs: {\n              items: _vm.PrincipalsStore.state.transactions,\n              headers: _vm.tblHeader,\n              dense: \"\",\n              search: _vm.searchKey,\n              id: \"transactions\",\n              loading: _vm.PrincipalsStore.state.isInitTransactions\n            },\n            scopedSlots: _vm._u(\n              [\n                {\n                  key: \"item.upload_date\",\n                  fn: function(ref) {\n                    var item = ref.item\n                    return [\n                      _c(\"span\", [\n                        _vm._v(\n                          \"\\n                    \" +\n                            _vm._s(item.upload_date.substring(0, 10)) +\n                            \"\\n                \"\n                        )\n                      ])\n                    ]\n                  }\n                },\n                {\n                  key: \"item.u3\",\n                  fn: function(ref) {\n                    var item = ref.item\n                    return [\n                      _c(\"span\", [\n                        _vm._v(\n                          \"\\n                    \" +\n                            _vm._s(\n                              _vm.AppStore.formatAsCurrency(parseFloat(item.u3))\n                            ) +\n                            \"\\n                \"\n                        )\n                      ])\n                    ]\n                  }\n                },\n                {\n                  key: \"item.customer_name\",\n                  fn: function(ref) {\n                    var item = ref.item\n                    return [\n                      _c(\"span\", { staticClass: \"text-caption\" }, [\n                        _vm._v(\n                          \"\\n                    \" +\n                            _vm._s(item.customer_name) +\n                            \"\\n                \"\n                        )\n                      ])\n                    ]\n                  }\n                },\n                {\n                  key: \"item.description\",\n                  fn: function(ref) {\n                    var item = ref.item\n                    return [\n                      _c(\"span\", { staticClass: \"text-caption\" }, [\n                        _vm._v(\n                          \"\\n                    \" +\n                            _vm._s(item.description) +\n                            \"\\n                \"\n                        )\n                      ])\n                    ]\n                  }\n                }\n              ],\n              null,\n              true\n            )\n          })\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Transactions.vue?vue&type=template&id=2d5bc858&\"\nimport script from \"./Transactions.vue?vue&type=script&lang=js&\"\nexport * from \"./Transactions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\KALOY\\\\PROJECTS\\\\DSG\\\\DSG_DEV\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('2d5bc858')) {\n      api.createRecord('2d5bc858', component.options)\n    } else {\n      api.reload('2d5bc858', component.options)\n    }\n    module.hot.accept(\"./Transactions.vue?vue&type=template&id=2d5bc858&\", function () {\n      api.rerender('2d5bc858', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/pages/Principals/common/Transactions.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Transactions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Transactions.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Transactions.vue?vue&type=template&id=2d5bc858&\""],"sourceRoot":""}