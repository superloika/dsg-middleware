(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{114:function(e,t,o){"use strict";o.r(t);var l={name:"InvoicesUpload",props:["searchKey","principalCodeFilter"],data:function(){return{file:null}},methods:{upload:function(){var e=this,t=this;this.AppStore.overlay(!0);for(var o={headers:{"content-type":"multipart/form-data"},onUploadProgress:function(o){var l=o.loaded/t.file.size*100,a="Uploading...";l<100?a="Uploading... "+l.toFixed(0)+"%":100==l?a="File uploaded":l>100&&(a="Saving..."),e.AppStore.state.overlay.msg=a}},l=new FormData,a=0;a<this.file.length;a++)l.append("files["+a+"]",this.file[a]);var i=this.AppStore.state.siteUrl+"invoices/upload";axios.post(i,l,o).then((function(t){t.data.success;var o=t.data.message;e.AppStore.overlay(!1),e.AppStore.toast(o),e.file=null,e.InvoicesStore.initInvoices(e.searchKey,e.principalCodeFilter)})).catch((function(t){e.AppStore.overlay(!1),e.AppStore.toast(t)}))}},mounted:function(){console.log("InvoicesUpload mounted.")}},a=o(0),i=Object(a.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-card",{staticClass:"elevation-0 transparent pa-0",attrs:{outlinedx:""}},[o("v-card-text",{},[o("v-row",{},[o("v-col",{staticClass:"pb-0",attrs:{cols:"",lg:"9",md:"7",sm:"8"}},[o("v-form",{ref:"frm_upload"},[o("v-file-input",{attrs:{"small-chips":"","show-sizex":"",rounded:"",outlined:"",dense:"",required:"",placeholder:"Select invoices file/s to upload",accept:".txt",multiple:"",color:"primary"},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1)],1),e._v(" "),o("v-col",{staticClass:"pb-0",attrs:{cols:"",lg:"3",md:"5",sm:"4"}},[o("v-btn",{attrs:{dense:"",color:"primary",block:"",rounded:"",disabled:null==e.file||e.file.length<1},on:{click:function(t){return e.upload()}}},[e._v("\n                    Submit\n                ")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=i.exports}}]);