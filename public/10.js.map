{"version":3,"sources":["webpack:///resources/js/pages/Invoices/ExtractInvoices.vue","webpack:///./resources/js/pages/Invoices/ExtractInvoices.vue?ae15","webpack:///./resources/js/pages/Invoices/ExtractInvoices.vue","webpack:///./resources/js/pages/Invoices/ExtractInvoices.vue?152a","webpack:///./resources/js/pages/Invoices/ExtractInvoices.vue?706e"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;AACA,MADA,kBACA;AACA;AACA,mBADA;AAEA,wBAFA;AAGA,4BAHA;AAIA,2EACA,WADA,GAEA,MAFA,CAEA,CAFA,EAEA,EAFA;AAJA;AAQA,GAVA;AAYA;AACA,iBADA,2BACA;AACA;AACA,KAHA;AAIA,cAJA,wBAIA;AACA;AACA;AACA,gCADA;AAEA;AAAA;AAAA,YAFA;AAGA;AAAA;AAAA;AAHA;AAKA,OANA;AAOA;AAZA,GAZA;AA2BA;AACA;AACA,aADA,mBACA,IADA,EACA,IADA,EACA;AACA;AACA;AAHA,KADA;AAMA,kBANA,4BAMA;AACA;AACA;AARA,GA3BA;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,6BAzBA,uCAyBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,8DACA,oBADA,EACA,UADA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,KA7BA,CA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AA1DA,GAtCA;AAmGA,SAnGA,qBAmGA;AACA;AACA;AArGA,G;;;;;;;;;;;;ACpHA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,sBAAsB;AAChD,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS,UAAU,EAAE;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,+BAA+B;AAC/B;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS,UAAU,EAAE;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,kCAAkC,4BAA4B;AAC9D;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,6BAA6B;AACnE;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,6BAA6B;AACnE;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChQA;AAAA;AAAA;AAAA;AAA8F;AAC3B;AACL;;;AAG9D;AACgG;AAChG,gBAAgB,2GAAU;AAC1B,EAAE,qFAAM;AACR,EAAE,0FAAM;AACR,EAAE,mGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAAqM,CAAgB,2PAAG,EAAC,C;;;;;;;;;;;;ACAzN;AAAA;AAAA;AAAA;AAAA;AAAA","file":"10.js","sourcesContent":["<template>\n    <v-card>\n        <v-card-title class=\"pb-6\">\n            <div class=\"mr-2\">\n                Extract Raw Invoices\n            </div>\n            <div></div>\n        </v-card-title>\n\n        <v-card-text>\n            <v-row>\n                <v-col md=\"8\">\n                    <v-combobox\n                        :items=\"principals\"\n                        v-model=\"principal\"\n                        label=\"Principal\"\n                        item-text=\"caption\"\n                        outlined\n                        rounded\n                        hide-details\n                        dense\n                        clearable\n                    >\n                        <template v-slot:item = \"{ item }\">\n                            <div>\n                                <v-icon>\n                                    mdi-store\n                                </v-icon>\n                                <small\n                                    v-for=\"(c,index) in item.caption\" :key=\"index\"\n                                    class=\"text-caption ma-1\"\n                                >\n                                    {{ c }},\n                                </small>\n                            </div>\n                        </template>\n                        <template v-slot:selection = \"{ item }\">\n                            <v-chip v-for=\"(c,index) in item.caption2\" :key=\"index\"\n                                color=\"primary\" x-small\n                            >{{ c }}</v-chip>\n                        </template>\n                    </v-combobox>\n                </v-col>\n\n                <v-col md=\"4\">\n                    <v-text-field\n                        v-model=\"dateRangeText\"\n                        label=\"Posting Date - YYYY-MM-DD\"\n                        hide-details\n                        readonly\n                        dense\n                        outlined\n                        rounded\n                        @click.stop=\"datePickerShown = true\"\n\n                    ></v-text-field>\n                    <!-- DATEPICKER -->\n                    <v-dialog\n                        ref=\"datePicker\"\n                        v-model=\"datePickerShown\"\n                        :return-value.sync=\"date\"\n                        :disabled=\"principal_code=='' || principal_code==null\"\n                        max-width=\"300px\"\n                    >\n                        <v-date-picker v-model=\"date\" scrollable range>\n                            <v-spacer></v-spacer>\n                            <v-btn\n                                text\n                                color=\"primary\"\n                                @click=\"datePickerShown = false\"\n                            >\n                                Cancel\n                            </v-btn>\n                            <v-btn\n                                text\n                                color=\"primary\"\n                                @click=\"\n                                    $refs.datePicker.save(date);\n                                \"\n                            >\n                                Ok\n                            </v-btn>\n                        </v-date-picker>\n                    </v-dialog>\n                    <!-- /DATEPICKER -->\n                </v-col>\n\n                <!-- <v-col md=\"2\">\n                    <v-btn block\n                        @click=\"extract()\"\n                        color=\"primary\"\n                    >\n                        Extract\n                    </v-btn>\n                </v-col> -->\n            </v-row>\n\n            <v-row>\n                <v-col>\n                    <v-btn\n                        @click=\"extractRawInvoicesToExcel()\"\n                        color=\"primary\"\n                        class=\"float-right\"\n                        :disabled=\"principal_code==''||principal_code==null\"\n                    >\n                        Extract\n                    </v-btn>\n                </v-col>\n            </v-row>\n\n        </v-card-text>\n    </v-card>\n</template>\n\n<script>\n\nexport default {\n    data() {\n        return {\n            principal: {},\n            principal_code: \"\",\n            datePickerShown: false,\n            date: [new Date(Date.now() - new Date().getTimezoneOffset() * 60000)\n                .toISOString()\n                .substr(0, 10)],\n        };\n    },\n\n    computed: {\n        dateRangeText() {\n            return this.date.join(' ~ ');\n        },\n        principals() {\n            return this.AppStore.state.principals.map(e => {\n                return {\n                    main_vendor_code: e[0],\n                    caption: e[1].map(el => `${el.vendor_code}-${el.name}`),\n                    caption2: e[1].map(el => `${el.vendor_code}`),\n                }\n            });\n        },\n    },\n\n    watch: {\n        'principal.main_vendor_code': {\n            handler(newV, oldV) {\n                this.principal_code = newV;\n            }\n        },\n        principal_code() {\n            console.log(this.principal_code);\n        }\n    },\n\n    methods: {\n        // async extract() {\n        //     const { headers, data } = await axios.post(\n        //         this.AppStore.state.siteUrl + 'invoices/extract',\n        //         {\n        //             principal_code: this.principal_code,\n        //             posting_date: this.date,\n        //         },\n        //         {\n        //             responseType: 'blob'\n        //         }\n        //     );\n\n        //     const { 'content-disposition': contentDisposition } = headers;\n        //     const [attachment, file] = contentDisposition.split(' ');\n        //     const [key, fileName] = file.split('=');\n        //     const url = window.URL.createObjectURL(new Blob([data]));\n        //     const link = document.createElement('a');\n        //     link.href = url;\n        //     link.setAttribute('download', fileName);\n        //     document.body.appendChild(link);\n        //     link.click();\n        // },\n\n\n        async extractRawInvoicesToExcel() {\n            this.InvoicesStore.extractRawInvoicesToExcel(\n                this.principal_code, this.date\n            );\n        },\n\n        // async asd() {\n        //     const { headers, data } = await axios.post(\n\t\t// \t\t\t'dtr/start-matching',\n\t\t// \t\t\t{ fileId },\n\t\t// \t\t\t{\n\t\t// \t\t\t\tresponseType: 'blob',\n\t\t// \t\t\t\tonDownloadProgress: progressEvent => {\n\t\t// \t\t\t\t\t// let percentCompleted = Math.floor(\n\t\t// \t\t\t\t\t//   (progressEvent.loaded / progressEvent.total) * 100\n\t\t// \t\t\t\t\t// )\n\t\t// \t\t\t\t\t// console.log(`${percentCompleted}% Downloaded`)\n\t\t// \t\t\t\t}\n\t\t// \t\t\t}\n\t\t// \t\t)\n\n\t\t// \t\tconst { 'content-disposition': contentDisposition } = headers\n\n\t\t// \t\tconst [attachment, file] = contentDisposition.split(' ')\n\n\t\t// \t\tconst [key, fileName] = file.split('=')\n\n\t\t// \t\tconst url = window.URL.createObjectURL(new Blob([data]))\n\t\t// \t\tconst link = document.createElement('a')\n\t\t// \t\tlink.href = url\n\t\t// \t\tlink.setAttribute('download', fileName)\n\t\t// \t\tdocument.body.appendChild(link)\n\t\t// \t\tlink.click()\n        // }\n    },\n\n    mounted() {\n        console.log(\"ExtractInvoices component mounted\");\n    }\n};\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"v-card\",\n    [\n      _c(\"v-card-title\", { staticClass: \"pb-6\" }, [\n        _c(\"div\", { staticClass: \"mr-2\" }, [\n          _vm._v(\"\\n            Extract Raw Invoices\\n        \")\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\")\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"v-card-text\",\n        [\n          _c(\n            \"v-row\",\n            [\n              _c(\n                \"v-col\",\n                { attrs: { md: \"8\" } },\n                [\n                  _c(\"v-combobox\", {\n                    attrs: {\n                      items: _vm.principals,\n                      label: \"Principal\",\n                      \"item-text\": \"caption\",\n                      outlined: \"\",\n                      rounded: \"\",\n                      \"hide-details\": \"\",\n                      dense: \"\",\n                      clearable: \"\"\n                    },\n                    scopedSlots: _vm._u([\n                      {\n                        key: \"item\",\n                        fn: function(ref) {\n                          var item = ref.item\n                          return [\n                            _c(\n                              \"div\",\n                              [\n                                _c(\"v-icon\", [\n                                  _vm._v(\n                                    \"\\n                                mdi-store\\n                            \"\n                                  )\n                                ]),\n                                _vm._v(\" \"),\n                                _vm._l(item.caption, function(c, index) {\n                                  return _c(\n                                    \"small\",\n                                    {\n                                      key: index,\n                                      staticClass: \"text-caption ma-1\"\n                                    },\n                                    [\n                                      _vm._v(\n                                        \"\\n                                \" +\n                                          _vm._s(c) +\n                                          \",\\n                            \"\n                                      )\n                                    ]\n                                  )\n                                })\n                              ],\n                              2\n                            )\n                          ]\n                        }\n                      },\n                      {\n                        key: \"selection\",\n                        fn: function(ref) {\n                          var item = ref.item\n                          return _vm._l(item.caption2, function(c, index) {\n                            return _c(\n                              \"v-chip\",\n                              {\n                                key: index,\n                                attrs: { color: \"primary\", \"x-small\": \"\" }\n                              },\n                              [_vm._v(_vm._s(c))]\n                            )\n                          })\n                        }\n                      }\n                    ]),\n                    model: {\n                      value: _vm.principal,\n                      callback: function($$v) {\n                        _vm.principal = $$v\n                      },\n                      expression: \"principal\"\n                    }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"v-col\",\n                { attrs: { md: \"4\" } },\n                [\n                  _c(\"v-text-field\", {\n                    attrs: {\n                      label: \"Posting Date - YYYY-MM-DD\",\n                      \"hide-details\": \"\",\n                      readonly: \"\",\n                      dense: \"\",\n                      outlined: \"\",\n                      rounded: \"\"\n                    },\n                    on: {\n                      click: function($event) {\n                        $event.stopPropagation()\n                        _vm.datePickerShown = true\n                      }\n                    },\n                    model: {\n                      value: _vm.dateRangeText,\n                      callback: function($$v) {\n                        _vm.dateRangeText = $$v\n                      },\n                      expression: \"dateRangeText\"\n                    }\n                  }),\n                  _vm._v(\" \"),\n                  _c(\n                    \"v-dialog\",\n                    {\n                      ref: \"datePicker\",\n                      attrs: {\n                        \"return-value\": _vm.date,\n                        disabled:\n                          _vm.principal_code == \"\" ||\n                          _vm.principal_code == null,\n                        \"max-width\": \"300px\"\n                      },\n                      on: {\n                        \"update:returnValue\": function($event) {\n                          _vm.date = $event\n                        },\n                        \"update:return-value\": function($event) {\n                          _vm.date = $event\n                        }\n                      },\n                      model: {\n                        value: _vm.datePickerShown,\n                        callback: function($$v) {\n                          _vm.datePickerShown = $$v\n                        },\n                        expression: \"datePickerShown\"\n                      }\n                    },\n                    [\n                      _c(\n                        \"v-date-picker\",\n                        {\n                          attrs: { scrollable: \"\", range: \"\" },\n                          model: {\n                            value: _vm.date,\n                            callback: function($$v) {\n                              _vm.date = $$v\n                            },\n                            expression: \"date\"\n                          }\n                        },\n                        [\n                          _c(\"v-spacer\"),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-btn\",\n                            {\n                              attrs: { text: \"\", color: \"primary\" },\n                              on: {\n                                click: function($event) {\n                                  _vm.datePickerShown = false\n                                }\n                              }\n                            },\n                            [\n                              _vm._v(\n                                \"\\n                            Cancel\\n                        \"\n                              )\n                            ]\n                          ),\n                          _vm._v(\" \"),\n                          _c(\n                            \"v-btn\",\n                            {\n                              attrs: { text: \"\", color: \"primary\" },\n                              on: {\n                                click: function($event) {\n                                  return _vm.$refs.datePicker.save(_vm.date)\n                                }\n                              }\n                            },\n                            [\n                              _vm._v(\n                                \"\\n                            Ok\\n                        \"\n                              )\n                            ]\n                          )\n                        ],\n                        1\n                      )\n                    ],\n                    1\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"v-row\",\n            [\n              _c(\n                \"v-col\",\n                [\n                  _c(\n                    \"v-btn\",\n                    {\n                      staticClass: \"float-right\",\n                      attrs: {\n                        color: \"primary\",\n                        disabled:\n                          _vm.principal_code == \"\" || _vm.principal_code == null\n                      },\n                      on: {\n                        click: function($event) {\n                          return _vm.extractRawInvoicesToExcel()\n                        }\n                      }\n                    },\n                    [_vm._v(\"\\n                    Extract\\n                \")]\n                  )\n                ],\n                1\n              )\n            ],\n            1\n          )\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./ExtractInvoices.vue?vue&type=template&id=1c5096c7&\"\nimport script from \"./ExtractInvoices.vue?vue&type=script&lang=js&\"\nexport * from \"./ExtractInvoices.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\laragon\\\\www\\\\DSGPM_DEV\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('1c5096c7')) {\n      api.createRecord('1c5096c7', component.options)\n    } else {\n      api.reload('1c5096c7', component.options)\n    }\n    module.hot.accept(\"./ExtractInvoices.vue?vue&type=template&id=1c5096c7&\", function () {\n      api.rerender('1c5096c7', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/pages/Invoices/ExtractInvoices.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtractInvoices.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtractInvoices.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtractInvoices.vue?vue&type=template&id=1c5096c7&\""],"sourceRoot":""}